/*! For license information please see app.js.LICENSE.txt */
(()=>{"use strict";var e={228:e=>{var t=Object.getOwnPropertySymbols,n=Object.prototype.hasOwnProperty,a=Object.prototype.propertyIsEnumerable;e.exports=function(){try{if(!Object.assign)return!1;var e=new String("abc");if(e[5]="de","5"===Object.getOwnPropertyNames(e)[0])return!1;for(var t={},n=0;n<10;n++)t["_"+String.fromCharCode(n)]=n;if("0123456789"!==Object.getOwnPropertyNames(t).map(function(e){return t[e]}).join(""))return!1;var a={};return"abcdefghijklmnopqrst".split("").forEach(function(e){a[e]=e}),"abcdefghijklmnopqrst"===Object.keys(Object.assign({},a)).join("")}catch(e){return!1}}()?Object.assign:function(e,r){for(var o,i,l=function(e){if(null==e)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(e)}(e),u=1;u<arguments.length;u++){for(var c in o=Object(arguments[u]))n.call(o,c)&&(l[c]=o[c]);if(t){i=t(o);for(var s=0;s<i.length;s++)a.call(o,i[s])&&(l[i[s]]=o[i[s]])}}return l}},287:(e,t,n)=>{var a=n(228),r=60103,o=60106;t.Fragment=60107,t.StrictMode=60108,t.Profiler=60114;var i=60109,l=60110,u=60112;t.Suspense=60113;var c=60115,s=60116;if("function"==typeof Symbol&&Symbol.for){var d=Symbol.for;r=d("react.element"),o=d("react.portal"),t.Fragment=d("react.fragment"),t.StrictMode=d("react.strict_mode"),t.Profiler=d("react.profiler"),i=d("react.provider"),l=d("react.context"),u=d("react.forward_ref"),t.Suspense=d("react.suspense"),c=d("react.memo"),s=d("react.lazy")}var f="function"==typeof Symbol&&Symbol.iterator;function m(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var p={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},g={};function h(e,t,n){this.props=e,this.context=t,this.refs=g,this.updater=n||p}function v(){}function b(e,t,n){this.props=e,this.context=t,this.refs=g,this.updater=n||p}h.prototype.isReactComponent={},h.prototype.setState=function(e,t){if("object"!=typeof e&&"function"!=typeof e&&null!=e)throw Error(m(85));this.updater.enqueueSetState(this,e,t,"setState")},h.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")},v.prototype=h.prototype;var y=b.prototype=new v;y.constructor=b,a(y,h.prototype),y.isPureReactComponent=!0;var w={current:null},D=Object.prototype.hasOwnProperty,E={key:!0,ref:!0,__self:!0,__source:!0};function C(e,t,n){var a,o={},i=null,l=null;if(null!=t)for(a in void 0!==t.ref&&(l=t.ref),void 0!==t.key&&(i=""+t.key),t)D.call(t,a)&&!E.hasOwnProperty(a)&&(o[a]=t[a]);var u=arguments.length-2;if(1===u)o.children=n;else if(1<u){for(var c=Array(u),s=0;s<u;s++)c[s]=arguments[s+2];o.children=c}if(e&&e.defaultProps)for(a in u=e.defaultProps)void 0===o[a]&&(o[a]=u[a]);return{$$typeof:r,type:e,key:i,ref:l,props:o,_owner:w.current}}function M(e){return"object"==typeof e&&null!==e&&e.$$typeof===r}var S=/\/+/g;function N(e,t){return"object"==typeof e&&null!==e&&null!=e.key?function(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(e){return t[e]})}(""+e.key):t.toString(36)}function k(e,t,n,a,i){var l=typeof e;"undefined"!==l&&"boolean"!==l||(e=null);var u=!1;if(null===e)u=!0;else switch(l){case"string":case"number":u=!0;break;case"object":switch(e.$$typeof){case r:case o:u=!0}}if(u)return i=i(u=e),e=""===a?"."+N(u,0):a,Array.isArray(i)?(n="",null!=e&&(n=e.replace(S,"$&/")+"/"),k(i,t,n,"",function(e){return e})):null!=i&&(M(i)&&(i=function(e,t){return{$$typeof:r,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}(i,n+(!i.key||u&&u.key===i.key?"":(""+i.key).replace(S,"$&/")+"/")+e)),t.push(i)),1;if(u=0,a=""===a?".":a+":",Array.isArray(e))for(var c=0;c<e.length;c++){var s=a+N(l=e[c],c);u+=k(l,t,n,s,i)}else if(s=function(e){return null===e||"object"!=typeof e?null:"function"==typeof(e=f&&e[f]||e["@@iterator"])?e:null}(e),"function"==typeof s)for(e=s.call(e),c=0;!(l=e.next()).done;)u+=k(l=l.value,t,n,s=a+N(l,c++),i);else if("object"===l)throw t=""+e,Error(m(31,"[object Object]"===t?"object with keys {"+Object.keys(e).join(", ")+"}":t));return u}function x(e,t,n){if(null==e)return e;var a=[],r=0;return k(e,a,"","",function(e){return t.call(n,e,r++)}),a}function O(e){if(-1===e._status){var t=e._result;t=t(),e._status=0,e._result=t,t.then(function(t){0===e._status&&(t=t.default,e._status=1,e._result=t)},function(t){0===e._status&&(e._status=2,e._result=t)})}if(1===e._status)return e._result;throw e._result}var _={current:null};function T(){var e=_.current;if(null===e)throw Error(m(321));return e}var P={ReactCurrentDispatcher:_,ReactCurrentBatchConfig:{transition:0},ReactCurrentOwner:w,IsSomeRendererActing:{current:!1},assign:a};t.Children={map:x,forEach:function(e,t,n){x(e,function(){t.apply(this,arguments)},n)},count:function(e){var t=0;return x(e,function(){t++}),t},toArray:function(e){return x(e,function(e){return e})||[]},only:function(e){if(!M(e))throw Error(m(143));return e}},t.Component=h,t.PureComponent=b,t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=P,t.cloneElement=function(e,t,n){if(null==e)throw Error(m(267,e));var o=a({},e.props),i=e.key,l=e.ref,u=e._owner;if(null!=t){if(void 0!==t.ref&&(l=t.ref,u=w.current),void 0!==t.key&&(i=""+t.key),e.type&&e.type.defaultProps)var c=e.type.defaultProps;for(s in t)D.call(t,s)&&!E.hasOwnProperty(s)&&(o[s]=void 0===t[s]&&void 0!==c?c[s]:t[s])}var s=arguments.length-2;if(1===s)o.children=n;else if(1<s){c=Array(s);for(var d=0;d<s;d++)c[d]=arguments[d+2];o.children=c}return{$$typeof:r,type:e.type,key:i,ref:l,props:o,_owner:u}},t.createContext=function(e,t){return void 0===t&&(t=null),(e={$$typeof:l,_calculateChangedBits:t,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null}).Provider={$$typeof:i,_context:e},e.Consumer=e},t.createElement=C,t.createFactory=function(e){var t=C.bind(null,e);return t.type=e,t},t.createRef=function(){return{current:null}},t.forwardRef=function(e){return{$$typeof:u,render:e}},t.isValidElement=M,t.lazy=function(e){return{$$typeof:s,_payload:{_status:-1,_result:e},_init:O}},t.memo=function(e,t){return{$$typeof:c,type:e,compare:void 0===t?null:t}},t.useCallback=function(e,t){return T().useCallback(e,t)},t.useContext=function(e,t){return T().useContext(e,t)},t.useDebugValue=function(){},t.useEffect=function(e,t){return T().useEffect(e,t)},t.useImperativeHandle=function(e,t,n){return T().useImperativeHandle(e,t,n)},t.useLayoutEffect=function(e,t){return T().useLayoutEffect(e,t)},t.useMemo=function(e,t){return T().useMemo(e,t)},t.useReducer=function(e,t,n){return T().useReducer(e,t,n)},t.useRef=function(e){return T().useRef(e)},t.useState=function(e){return T().useState(e)},t.version="17.0.2"},377:(e,t,n)=>{var a,r,o;function i(e){return i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},i(e)}o=function(){var e=function(){return(e=Object.assign||function(e){for(var t,n=1,a=arguments.length;n<a;n++)for(var r in t=arguments[n])Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e}).apply(this,arguments)};function t(){for(var e=0,t=0,n=arguments.length;t<n;t++)e+=arguments[t].length;var a=Array(e),r=0;for(t=0;t<n;t++)for(var o=arguments[t],i=0,l=o.length;i<l;i++,r++)a[r]=o[i];return a}var n=["onChange","onClose","onDayCreate","onDestroy","onKeyDown","onMonthChange","onOpen","onParseConfig","onReady","onValueUpdate","onYearChange","onPreCalendarPosition"],a={_disable:[],allowInput:!1,allowInvalidPreload:!1,altFormat:"F j, Y",altInput:!1,altInputClass:"form-control input",animate:"object"==("undefined"==typeof window?"undefined":i(window))&&-1===window.navigator.userAgent.indexOf("MSIE"),ariaDateFormat:"F j, Y",autoFillDefaultTime:!0,clickOpens:!0,closeOnSelect:!0,conjunction:", ",dateFormat:"Y-m-d",defaultHour:12,defaultMinute:0,defaultSeconds:0,disable:[],disableMobile:!1,enableSeconds:!1,enableTime:!1,errorHandler:function(e){return"undefined"!=typeof console&&console.warn(e)},getWeek:function(e){var t=new Date(e.getTime());t.setHours(0,0,0,0),t.setDate(t.getDate()+3-(t.getDay()+6)%7);var n=new Date(t.getFullYear(),0,4);return 1+Math.round(((t.getTime()-n.getTime())/864e5-3+(n.getDay()+6)%7)/7)},hourIncrement:1,ignoredFocusElements:[],inline:!1,locale:"default",minuteIncrement:5,mode:"single",monthSelectorType:"dropdown",nextArrow:"<svg version='1.1' xmlns='http://www.w3.org/2000/svg' xmlns:xlink='http://www.w3.org/1999/xlink' viewBox='0 0 17 17'><g></g><path d='M13.207 8.472l-7.854 7.854-0.707-0.707 7.146-7.146-7.146-7.148 0.707-0.707 7.854 7.854z' /></svg>",noCalendar:!1,now:new Date,onChange:[],onClose:[],onDayCreate:[],onDestroy:[],onKeyDown:[],onMonthChange:[],onOpen:[],onParseConfig:[],onReady:[],onValueUpdate:[],onYearChange:[],onPreCalendarPosition:[],plugins:[],position:"auto",positionElement:void 0,prevArrow:"<svg version='1.1' xmlns='http://www.w3.org/2000/svg' xmlns:xlink='http://www.w3.org/1999/xlink' viewBox='0 0 17 17'><g></g><path d='M5.207 8.471l7.146 7.147-0.707 0.707-7.853-7.854 7.854-7.853 0.707 0.707-7.147 7.146z' /></svg>",shorthandCurrentMonth:!1,showMonths:1,static:!1,time_24hr:!1,weekNumbers:!1,wrap:!1},r={weekdays:{shorthand:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],longhand:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},months:{shorthand:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],longhand:["January","February","March","April","May","June","July","August","September","October","November","December"]},daysInMonth:[31,28,31,30,31,30,31,31,30,31,30,31],firstDayOfWeek:0,ordinal:function(e){var t=e%100;if(t>3&&t<21)return"th";switch(t%10){case 1:return"st";case 2:return"nd";case 3:return"rd";default:return"th"}},rangeSeparator:" to ",weekAbbreviation:"Wk",scrollTitle:"Scroll to increment",toggleTitle:"Click to toggle",amPM:["AM","PM"],yearAriaLabel:"Year",monthAriaLabel:"Month",hourAriaLabel:"Hour",minuteAriaLabel:"Minute",time_24hr:!1},o=function(e,t){return void 0===t&&(t=2),("000"+e).slice(-1*t)},l=function(e){return!0===e?1:0};function u(e,t){var n;return function(){var a=this,r=arguments;clearTimeout(n),n=setTimeout(function(){return e.apply(a,r)},t)}}var c=function(e){return e instanceof Array?e:[e]};function s(e,t,n){if(!0===n)return e.classList.add(t);e.classList.remove(t)}function d(e,t,n){var a=window.document.createElement(e);return t=t||"",n=n||"",a.className=t,void 0!==n&&(a.textContent=n),a}function f(e){for(;e.firstChild;)e.removeChild(e.firstChild)}function m(e,t){return t(e)?e:e.parentNode?m(e.parentNode,t):void 0}function p(e,t){var n=d("div","numInputWrapper"),a=d("input","numInput "+e),r=d("span","arrowUp"),o=d("span","arrowDown");if(-1===navigator.userAgent.indexOf("MSIE 9.0")?a.type="number":(a.type="text",a.pattern="\\d*"),void 0!==t)for(var i in t)a.setAttribute(i,t[i]);return n.appendChild(a),n.appendChild(r),n.appendChild(o),n}function g(e){try{return"function"==typeof e.composedPath?e.composedPath()[0]:e.target}catch(t){return e.target}}var h=function(){},v=function(e,t,n){return n.months[t?"shorthand":"longhand"][e]},b={D:h,F:function(e,t,n){e.setMonth(n.months.longhand.indexOf(t))},G:function(e,t){e.setHours((e.getHours()>=12?12:0)+parseFloat(t))},H:function(e,t){e.setHours(parseFloat(t))},J:function(e,t){e.setDate(parseFloat(t))},K:function(e,t,n){e.setHours(e.getHours()%12+12*l(new RegExp(n.amPM[1],"i").test(t)))},M:function(e,t,n){e.setMonth(n.months.shorthand.indexOf(t))},S:function(e,t){e.setSeconds(parseFloat(t))},U:function(e,t){return new Date(1e3*parseFloat(t))},W:function(e,t,n){var a=parseInt(t),r=new Date(e.getFullYear(),0,2+7*(a-1),0,0,0,0);return r.setDate(r.getDate()-r.getDay()+n.firstDayOfWeek),r},Y:function(e,t){e.setFullYear(parseFloat(t))},Z:function(e,t){return new Date(t)},d:function(e,t){e.setDate(parseFloat(t))},h:function(e,t){e.setHours((e.getHours()>=12?12:0)+parseFloat(t))},i:function(e,t){e.setMinutes(parseFloat(t))},j:function(e,t){e.setDate(parseFloat(t))},l:h,m:function(e,t){e.setMonth(parseFloat(t)-1)},n:function(e,t){e.setMonth(parseFloat(t)-1)},s:function(e,t){e.setSeconds(parseFloat(t))},u:function(e,t){return new Date(parseFloat(t))},w:h,y:function(e,t){e.setFullYear(2e3+parseFloat(t))}},y={D:"",F:"",G:"(\\d\\d|\\d)",H:"(\\d\\d|\\d)",J:"(\\d\\d|\\d)\\w+",K:"",M:"",S:"(\\d\\d|\\d)",U:"(.+)",W:"(\\d\\d|\\d)",Y:"(\\d{4})",Z:"(.+)",d:"(\\d\\d|\\d)",h:"(\\d\\d|\\d)",i:"(\\d\\d|\\d)",j:"(\\d\\d|\\d)",l:"",m:"(\\d\\d|\\d)",n:"(\\d\\d|\\d)",s:"(\\d\\d|\\d)",u:"(.+)",w:"(\\d\\d|\\d)",y:"(\\d{2})"},w={Z:function(e){return e.toISOString()},D:function(e,t,n){return t.weekdays.shorthand[w.w(e,t,n)]},F:function(e,t,n){return v(w.n(e,t,n)-1,!1,t)},G:function(e,t,n){return o(w.h(e,t,n))},H:function(e){return o(e.getHours())},J:function(e,t){return void 0!==t.ordinal?e.getDate()+t.ordinal(e.getDate()):e.getDate()},K:function(e,t){return t.amPM[l(e.getHours()>11)]},M:function(e,t){return v(e.getMonth(),!0,t)},S:function(e){return o(e.getSeconds())},U:function(e){return e.getTime()/1e3},W:function(e,t,n){return n.getWeek(e)},Y:function(e){return o(e.getFullYear(),4)},d:function(e){return o(e.getDate())},h:function(e){return e.getHours()%12?e.getHours()%12:12},i:function(e){return o(e.getMinutes())},j:function(e){return e.getDate()},l:function(e,t){return t.weekdays.longhand[e.getDay()]},m:function(e){return o(e.getMonth()+1)},n:function(e){return e.getMonth()+1},s:function(e){return e.getSeconds()},u:function(e){return e.getTime()},w:function(e){return e.getDay()},y:function(e){return String(e.getFullYear()).substring(2)}},D=function(e){var t=e.config,n=void 0===t?a:t,o=e.l10n,i=void 0===o?r:o,l=e.isMobile,u=void 0!==l&&l;return function(e,t,a){var r=a||i;return void 0===n.formatDate||u?t.split("").map(function(t,a,o){return w[t]&&"\\"!==o[a-1]?w[t](e,r,n):"\\"!==t?t:""}).join(""):n.formatDate(e,t,r)}},E=function(e){var t=e.config,n=void 0===t?a:t,o=e.l10n,i=void 0===o?r:o;return function(e,t,r,o){if(0===e||e){var l,u=o||i,c=e;if(e instanceof Date)l=new Date(e.getTime());else if("string"!=typeof e&&void 0!==e.toFixed)l=new Date(e);else if("string"==typeof e){var s=t||(n||a).dateFormat,d=String(e).trim();if("today"===d)l=new Date,r=!0;else if(n&&n.parseDate)l=n.parseDate(e,s);else if(/Z$/.test(d)||/GMT$/.test(d))l=new Date(e);else{for(var f=void 0,m=[],p=0,g=0,h="";p<s.length;p++){var v=s[p],w="\\"===v,D="\\"===s[p-1]||w;if(y[v]&&!D){h+=y[v];var E=new RegExp(h).exec(e);E&&(f=!0)&&m["Y"!==v?"push":"unshift"]({fn:b[v],val:E[++g]})}else w||(h+=".")}l=n&&n.noCalendar?new Date((new Date).setHours(0,0,0,0)):new Date((new Date).getFullYear(),0,1,0,0,0,0),m.forEach(function(e){var t=e.fn,n=e.val;return l=t(l,n,u)||l}),l=f?l:void 0}}if(l instanceof Date&&!isNaN(l.getTime()))return!0===r&&l.setHours(0,0,0,0),l;n.errorHandler(new Error("Invalid date provided: "+c))}}};function C(e,t,n){return void 0===n&&(n=!0),!1!==n?new Date(e.getTime()).setHours(0,0,0,0)-new Date(t.getTime()).setHours(0,0,0,0):e.getTime()-t.getTime()}var M=function(e,t,n){return 3600*e+60*t+n};function S(e){var t=e.defaultHour,n=e.defaultMinute,a=e.defaultSeconds;if(void 0!==e.minDate){var r=e.minDate.getHours(),o=e.minDate.getMinutes(),i=e.minDate.getSeconds();t<r&&(t=r),t===r&&n<o&&(n=o),t===r&&n===o&&a<i&&(a=e.minDate.getSeconds())}if(void 0!==e.maxDate){var l=e.maxDate.getHours(),u=e.maxDate.getMinutes();(t=Math.min(t,l))===l&&(n=Math.min(u,n)),t===l&&n===u&&(a=e.maxDate.getSeconds())}return{hours:t,minutes:n,seconds:a}}function N(h,b){var w={config:e(e({},a),x.defaultConfig),l10n:r};function N(){var e;return(null===(e=w.calendarContainer)||void 0===e?void 0:e.getRootNode()).activeElement||document.activeElement}function k(e){return e.bind(w)}function O(){var e=w.config;!1===e.weekNumbers&&1===e.showMonths||!0!==e.noCalendar&&window.requestAnimationFrame(function(){if(void 0!==w.calendarContainer&&(w.calendarContainer.style.visibility="hidden",w.calendarContainer.style.display="block"),void 0!==w.daysContainer){var t=(w.days.offsetWidth+1)*e.showMonths;w.daysContainer.style.width=t+"px",w.calendarContainer.style.width=t+(void 0!==w.weekWrapper?w.weekWrapper.offsetWidth:0)+"px",w.calendarContainer.style.removeProperty("visibility"),w.calendarContainer.style.removeProperty("display")}})}function _(e){if(0===w.selectedDates.length){var t=void 0===w.config.minDate||C(new Date,w.config.minDate)>=0?new Date:new Date(w.config.minDate.getTime()),n=S(w.config);t.setHours(n.hours,n.minutes,n.seconds,t.getMilliseconds()),w.selectedDates=[t],w.latestSelectedDateObj=t}void 0!==e&&"blur"!==e.type&&function(e){e.preventDefault();var t="keydown"===e.type,n=g(e),a=n;void 0!==w.amPM&&n===w.amPM&&(w.amPM.textContent=w.l10n.amPM[l(w.amPM.textContent===w.l10n.amPM[0])]);var r=parseFloat(a.getAttribute("min")),i=parseFloat(a.getAttribute("max")),u=parseFloat(a.getAttribute("step")),c=parseInt(a.value,10),s=c+u*(e.delta||(t?38===e.which?1:-1:0));if(void 0!==a.value&&2===a.value.length){var d=a===w.hourElement,f=a===w.minuteElement;s<r?(s=i+s+l(!d)+(l(d)&&l(!w.amPM)),f&&L(void 0,-1,w.hourElement)):s>i&&(s=a===w.hourElement?s-i-l(!w.amPM):r,f&&L(void 0,1,w.hourElement)),w.amPM&&d&&(1===u?s+c===23:Math.abs(s-c)>u)&&(w.amPM.textContent=w.l10n.amPM[l(w.amPM.textContent===w.l10n.amPM[0])]),a.value=o(s)}}(e);var a=w._input.value;T(),Ce(),w._input.value!==a&&w._debouncedChange()}function T(){if(void 0!==w.hourElement&&void 0!==w.minuteElement){var e,t,n=(parseInt(w.hourElement.value.slice(-2),10)||0)%24,a=(parseInt(w.minuteElement.value,10)||0)%60,r=void 0!==w.secondElement?(parseInt(w.secondElement.value,10)||0)%60:0;void 0!==w.amPM&&(e=n,t=w.amPM.textContent,n=e%12+12*l(t===w.l10n.amPM[1]));var o=void 0!==w.config.minTime||w.config.minDate&&w.minDateHasTime&&w.latestSelectedDateObj&&0===C(w.latestSelectedDateObj,w.config.minDate,!0),i=void 0!==w.config.maxTime||w.config.maxDate&&w.maxDateHasTime&&w.latestSelectedDateObj&&0===C(w.latestSelectedDateObj,w.config.maxDate,!0);if(void 0!==w.config.maxTime&&void 0!==w.config.minTime&&w.config.minTime>w.config.maxTime){var u=M(w.config.minTime.getHours(),w.config.minTime.getMinutes(),w.config.minTime.getSeconds()),c=M(w.config.maxTime.getHours(),w.config.maxTime.getMinutes(),w.config.maxTime.getSeconds()),s=M(n,a,r);if(s>c&&s<u){var d=function(e){var t=Math.floor(e/3600),n=(e-3600*t)/60;return[t,n,e-3600*t-60*n]}(u);n=d[0],a=d[1],r=d[2]}}else{if(i){var f=void 0!==w.config.maxTime?w.config.maxTime:w.config.maxDate;(n=Math.min(n,f.getHours()))===f.getHours()&&(a=Math.min(a,f.getMinutes())),a===f.getMinutes()&&(r=Math.min(r,f.getSeconds()))}if(o){var m=void 0!==w.config.minTime?w.config.minTime:w.config.minDate;(n=Math.max(n,m.getHours()))===m.getHours()&&a<m.getMinutes()&&(a=m.getMinutes()),a===m.getMinutes()&&(r=Math.max(r,m.getSeconds()))}}j(n,a,r)}}function P(e){var t=e||w.latestSelectedDateObj;t&&t instanceof Date&&j(t.getHours(),t.getMinutes(),t.getSeconds())}function j(e,t,n){void 0!==w.latestSelectedDateObj&&w.latestSelectedDateObj.setHours(e%24,t,n||0,0),w.hourElement&&w.minuteElement&&!w.isMobile&&(w.hourElement.value=o(w.config.time_24hr?e:(12+e)%12+12*l(e%12==0)),w.minuteElement.value=o(t),void 0!==w.amPM&&(w.amPM.textContent=w.l10n.amPM[l(e>=12)]),void 0!==w.secondElement&&(w.secondElement.value=o(n)))}function A(e){var t=g(e),n=parseInt(t.value)+(e.delta||0);(n/1e3>1||"Enter"===e.key&&!/[^\d]/.test(n.toString()))&&ee(n)}function I(e,t,n,a){return t instanceof Array?t.forEach(function(t){return I(e,t,n,a)}):e instanceof Array?e.forEach(function(e){return I(e,t,n,a)}):(e.addEventListener(t,n,a),void w._handlers.push({remove:function(){return e.removeEventListener(t,n,a)}}))}function F(){be("onChange")}function R(e,t){var n=void 0!==e?w.parseDate(e):w.latestSelectedDateObj||(w.config.minDate&&w.config.minDate>w.now?w.config.minDate:w.config.maxDate&&w.config.maxDate<w.now?w.config.maxDate:w.now),a=w.currentYear,r=w.currentMonth;try{void 0!==n&&(w.currentYear=n.getFullYear(),w.currentMonth=n.getMonth())}catch(e){e.message="Invalid date supplied: "+n,w.config.errorHandler(e)}t&&w.currentYear!==a&&(be("onYearChange"),J()),!t||w.currentYear===a&&w.currentMonth===r||be("onMonthChange"),w.redraw()}function Y(e){var t=g(e);~t.className.indexOf("arrow")&&L(e,t.classList.contains("arrowUp")?1:-1)}function L(e,t,n){var a=e&&g(e),r=n||a&&a.parentNode&&a.parentNode.firstChild,o=ye("increment");o.delta=t,r&&r.dispatchEvent(o)}function B(e,t,n,a){var r=te(t,!0),o=d("span",e,t.getDate().toString());return o.dateObj=t,o.$i=a,o.setAttribute("aria-label",w.formatDate(t,w.config.ariaDateFormat)),-1===e.indexOf("hidden")&&0===C(t,w.now)&&(w.todayDateElem=o,o.classList.add("today"),o.setAttribute("aria-current","date")),r?(o.tabIndex=-1,we(t)&&(o.classList.add("selected"),w.selectedDateElem=o,"range"===w.config.mode&&(s(o,"startRange",w.selectedDates[0]&&0===C(t,w.selectedDates[0],!0)),s(o,"endRange",w.selectedDates[1]&&0===C(t,w.selectedDates[1],!0)),"nextMonthDay"===e&&o.classList.add("inRange")))):o.classList.add("flatpickr-disabled"),"range"===w.config.mode&&function(e){return!("range"!==w.config.mode||w.selectedDates.length<2)&&C(e,w.selectedDates[0])>=0&&C(e,w.selectedDates[1])<=0}(t)&&!we(t)&&o.classList.add("inRange"),w.weekNumbers&&1===w.config.showMonths&&"prevMonthDay"!==e&&a%7==6&&w.weekNumbers.insertAdjacentHTML("beforeend","<span class='flatpickr-day'>"+w.config.getWeek(t)+"</span>"),be("onDayCreate",o),o}function H(e){e.focus(),"range"===w.config.mode&&oe(e)}function W(e){for(var t=e>0?0:w.config.showMonths-1,n=e>0?w.config.showMonths:-1,a=t;a!=n;a+=e)for(var r=w.daysContainer.children[a],o=e>0?0:r.children.length-1,i=e>0?r.children.length:-1,l=o;l!=i;l+=e){var u=r.children[l];if(-1===u.className.indexOf("hidden")&&te(u.dateObj))return u}}function $(e,t){var n=N(),a=ne(n||document.body),r=void 0!==e?e:a?n:void 0!==w.selectedDateElem&&ne(w.selectedDateElem)?w.selectedDateElem:void 0!==w.todayDateElem&&ne(w.todayDateElem)?w.todayDateElem:W(t>0?1:-1);void 0===r?w._input.focus():a?function(e,t){for(var n=-1===e.className.indexOf("Month")?e.dateObj.getMonth():w.currentMonth,a=t>0?w.config.showMonths:-1,r=t>0?1:-1,o=n-w.currentMonth;o!=a;o+=r)for(var i=w.daysContainer.children[o],l=n-w.currentMonth===o?e.$i+t:t<0?i.children.length-1:0,u=i.children.length,c=l;c>=0&&c<u&&c!=(t>0?u:-1);c+=r){var s=i.children[c];if(-1===s.className.indexOf("hidden")&&te(s.dateObj)&&Math.abs(e.$i-c)>=Math.abs(t))return H(s)}w.changeMonth(r),$(W(r),0)}(r,t):H(r)}function q(e,t){for(var n=(new Date(e,t,1).getDay()-w.l10n.firstDayOfWeek+7)%7,a=w.utils.getDaysInMonth((t-1+12)%12,e),r=w.utils.getDaysInMonth(t,e),o=window.document.createDocumentFragment(),i=w.config.showMonths>1,l=i?"prevMonthDay hidden":"prevMonthDay",u=i?"nextMonthDay hidden":"nextMonthDay",c=a+1-n,s=0;c<=a;c++,s++)o.appendChild(B("flatpickr-day "+l,new Date(e,t-1,c),0,s));for(c=1;c<=r;c++,s++)o.appendChild(B("flatpickr-day",new Date(e,t,c),0,s));for(var f=r+1;f<=42-n&&(1===w.config.showMonths||s%7!=0);f++,s++)o.appendChild(B("flatpickr-day "+u,new Date(e,t+1,f%r),0,s));var m=d("div","dayContainer");return m.appendChild(o),m}function U(){if(void 0!==w.daysContainer){f(w.daysContainer),w.weekNumbers&&f(w.weekNumbers);for(var e=document.createDocumentFragment(),t=0;t<w.config.showMonths;t++){var n=new Date(w.currentYear,w.currentMonth,1);n.setMonth(w.currentMonth+t),e.appendChild(q(n.getFullYear(),n.getMonth()))}w.daysContainer.appendChild(e),w.days=w.daysContainer.firstChild,"range"===w.config.mode&&1===w.selectedDates.length&&oe()}}function J(){if(!(w.config.showMonths>1||"dropdown"!==w.config.monthSelectorType)){var e=function(e){return!(void 0!==w.config.minDate&&w.currentYear===w.config.minDate.getFullYear()&&e<w.config.minDate.getMonth()||void 0!==w.config.maxDate&&w.currentYear===w.config.maxDate.getFullYear()&&e>w.config.maxDate.getMonth())};w.monthsDropdownContainer.tabIndex=-1,w.monthsDropdownContainer.innerHTML="";for(var t=0;t<12;t++)if(e(t)){var n=d("option","flatpickr-monthDropdown-month");n.value=new Date(w.currentYear,t).getMonth().toString(),n.textContent=v(t,w.config.shorthandCurrentMonth,w.l10n),n.tabIndex=-1,w.currentMonth===t&&(n.selected=!0),w.monthsDropdownContainer.appendChild(n)}}}function K(){var e,t=d("div","flatpickr-month"),n=window.document.createDocumentFragment();w.config.showMonths>1||"static"===w.config.monthSelectorType?e=d("span","cur-month"):(w.monthsDropdownContainer=d("select","flatpickr-monthDropdown-months"),w.monthsDropdownContainer.setAttribute("aria-label",w.l10n.monthAriaLabel),I(w.monthsDropdownContainer,"change",function(e){var t=g(e),n=parseInt(t.value,10);w.changeMonth(n-w.currentMonth),be("onMonthChange")}),J(),e=w.monthsDropdownContainer);var a=p("cur-year",{tabindex:"-1"}),r=a.getElementsByTagName("input")[0];r.setAttribute("aria-label",w.l10n.yearAriaLabel),w.config.minDate&&r.setAttribute("min",w.config.minDate.getFullYear().toString()),w.config.maxDate&&(r.setAttribute("max",w.config.maxDate.getFullYear().toString()),r.disabled=!!w.config.minDate&&w.config.minDate.getFullYear()===w.config.maxDate.getFullYear());var o=d("div","flatpickr-current-month");return o.appendChild(e),o.appendChild(a),n.appendChild(o),t.appendChild(n),{container:t,yearElement:r,monthElement:e}}function G(){f(w.monthNav),w.monthNav.appendChild(w.prevMonthNav),w.config.showMonths&&(w.yearElements=[],w.monthElements=[]);for(var e=w.config.showMonths;e--;){var t=K();w.yearElements.push(t.yearElement),w.monthElements.push(t.monthElement),w.monthNav.appendChild(t.container)}w.monthNav.appendChild(w.nextMonthNav)}function z(){w.weekdayContainer?f(w.weekdayContainer):w.weekdayContainer=d("div","flatpickr-weekdays");for(var e=w.config.showMonths;e--;){var t=d("div","flatpickr-weekdaycontainer");w.weekdayContainer.appendChild(t)}return V(),w.weekdayContainer}function V(){if(w.weekdayContainer){var e=w.l10n.firstDayOfWeek,n=t(w.l10n.weekdays.shorthand);e>0&&e<n.length&&(n=t(n.splice(e,n.length),n.splice(0,e)));for(var a=w.config.showMonths;a--;)w.weekdayContainer.children[a].innerHTML="\n      <span class='flatpickr-weekday'>\n        "+n.join("</span><span class='flatpickr-weekday'>")+"\n      </span>\n      "}}function Z(e,t){void 0===t&&(t=!0);var n=t?e:e-w.currentMonth;n<0&&!0===w._hidePrevMonthArrow||n>0&&!0===w._hideNextMonthArrow||(w.currentMonth+=n,(w.currentMonth<0||w.currentMonth>11)&&(w.currentYear+=w.currentMonth>11?1:-1,w.currentMonth=(w.currentMonth+12)%12,be("onYearChange"),J()),U(),be("onMonthChange"),De())}function Q(e){return w.calendarContainer.contains(e)}function X(e){if(w.isOpen&&!w.config.inline){var t=g(e),n=Q(t),a=!(t===w.input||t===w.altInput||w.element.contains(t)||e.path&&e.path.indexOf&&(~e.path.indexOf(w.input)||~e.path.indexOf(w.altInput))||n||Q(e.relatedTarget)),r=!w.config.ignoredFocusElements.some(function(e){return e.contains(t)});a&&r&&(w.config.allowInput&&w.setDate(w._input.value,!1,w.config.altInput?w.config.altFormat:w.config.dateFormat),void 0!==w.timeContainer&&void 0!==w.minuteElement&&void 0!==w.hourElement&&""!==w.input.value&&void 0!==w.input.value&&_(),w.close(),w.config&&"range"===w.config.mode&&1===w.selectedDates.length&&w.clear(!1))}}function ee(e){if(!(!e||w.config.minDate&&e<w.config.minDate.getFullYear()||w.config.maxDate&&e>w.config.maxDate.getFullYear())){var t=e,n=w.currentYear!==t;w.currentYear=t||w.currentYear,w.config.maxDate&&w.currentYear===w.config.maxDate.getFullYear()?w.currentMonth=Math.min(w.config.maxDate.getMonth(),w.currentMonth):w.config.minDate&&w.currentYear===w.config.minDate.getFullYear()&&(w.currentMonth=Math.max(w.config.minDate.getMonth(),w.currentMonth)),n&&(w.redraw(),be("onYearChange"),J())}}function te(e,t){var n;void 0===t&&(t=!0);var a=w.parseDate(e,void 0,t);if(w.config.minDate&&a&&C(a,w.config.minDate,void 0!==t?t:!w.minDateHasTime)<0||w.config.maxDate&&a&&C(a,w.config.maxDate,void 0!==t?t:!w.maxDateHasTime)>0)return!1;if(!w.config.enable&&0===w.config.disable.length)return!0;if(void 0===a)return!1;for(var r=!!w.config.enable,o=null!==(n=w.config.enable)&&void 0!==n?n:w.config.disable,l=0,u=void 0;l<o.length;l++){if("function"==typeof(u=o[l])&&u(a))return r;if(u instanceof Date&&void 0!==a&&u.getTime()===a.getTime())return r;if("string"==typeof u){var c=w.parseDate(u,void 0,!0);return c&&c.getTime()===a.getTime()?r:!r}if("object"==i(u)&&void 0!==a&&u.from&&u.to&&a.getTime()>=u.from.getTime()&&a.getTime()<=u.to.getTime())return r}return!r}function ne(e){return void 0!==w.daysContainer&&-1===e.className.indexOf("hidden")&&-1===e.className.indexOf("flatpickr-disabled")&&w.daysContainer.contains(e)}function ae(e){var t=e.target===w._input,n=w._input.value.trimEnd()!==Ee();!t||!n||e.relatedTarget&&Q(e.relatedTarget)||w.setDate(w._input.value,!0,e.target===w.altInput?w.config.altFormat:w.config.dateFormat)}function re(e){var t=g(e),n=w.config.wrap?h.contains(t):t===w._input,a=w.config.allowInput,r=w.isOpen&&(!a||!n),o=w.config.inline&&n&&!a;if(13===e.keyCode&&n){if(a)return w.setDate(w._input.value,!0,t===w.altInput?w.config.altFormat:w.config.dateFormat),w.close(),t.blur();w.open()}else if(Q(t)||r||o){var i=!!w.timeContainer&&w.timeContainer.contains(t);switch(e.keyCode){case 13:i?(e.preventDefault(),_(),fe()):me(e);break;case 27:e.preventDefault(),fe();break;case 8:case 46:n&&!w.config.allowInput&&(e.preventDefault(),w.clear());break;case 37:case 39:if(i||n)w.hourElement&&w.hourElement.focus();else{e.preventDefault();var l=N();if(void 0!==w.daysContainer&&(!1===a||l&&ne(l))){var u=39===e.keyCode?1:-1;e.ctrlKey?(e.stopPropagation(),Z(u),$(W(1),0)):$(void 0,u)}}break;case 38:case 40:e.preventDefault();var c=40===e.keyCode?1:-1;w.daysContainer&&void 0!==t.$i||t===w.input||t===w.altInput?e.ctrlKey?(e.stopPropagation(),ee(w.currentYear-c),$(W(1),0)):i||$(void 0,7*c):t===w.currentYearElement?ee(w.currentYear-c):w.config.enableTime&&(!i&&w.hourElement&&w.hourElement.focus(),_(e),w._debouncedChange());break;case 9:if(i){var s=[w.hourElement,w.minuteElement,w.secondElement,w.amPM].concat(w.pluginElements).filter(function(e){return e}),d=s.indexOf(t);if(-1!==d){var f=s[d+(e.shiftKey?-1:1)];e.preventDefault(),(f||w._input).focus()}}else!w.config.noCalendar&&w.daysContainer&&w.daysContainer.contains(t)&&e.shiftKey&&(e.preventDefault(),w._input.focus())}}if(void 0!==w.amPM&&t===w.amPM)switch(e.key){case w.l10n.amPM[0].charAt(0):case w.l10n.amPM[0].charAt(0).toLowerCase():w.amPM.textContent=w.l10n.amPM[0],T(),Ce();break;case w.l10n.amPM[1].charAt(0):case w.l10n.amPM[1].charAt(0).toLowerCase():w.amPM.textContent=w.l10n.amPM[1],T(),Ce()}(n||Q(t))&&be("onKeyDown",e)}function oe(e,t){if(void 0===t&&(t="flatpickr-day"),1===w.selectedDates.length&&(!e||e.classList.contains(t)&&!e.classList.contains("flatpickr-disabled"))){for(var n=e?e.dateObj.getTime():w.days.firstElementChild.dateObj.getTime(),a=w.parseDate(w.selectedDates[0],void 0,!0).getTime(),r=Math.min(n,w.selectedDates[0].getTime()),o=Math.max(n,w.selectedDates[0].getTime()),i=!1,l=0,u=0,c=r;c<o;c+=864e5)te(new Date(c),!0)||(i=i||c>r&&c<o,c<a&&(!l||c>l)?l=c:c>a&&(!u||c<u)&&(u=c));Array.from(w.rContainer.querySelectorAll("*:nth-child(-n+"+w.config.showMonths+") > ."+t)).forEach(function(t){var r,o,c,s=t.dateObj.getTime(),d=l>0&&s<l||u>0&&s>u;if(d)return t.classList.add("notAllowed"),void["inRange","startRange","endRange"].forEach(function(e){t.classList.remove(e)});i&&!d||(["startRange","inRange","endRange","notAllowed"].forEach(function(e){t.classList.remove(e)}),void 0!==e&&(e.classList.add(n<=w.selectedDates[0].getTime()?"startRange":"endRange"),a<n&&s===a?t.classList.add("startRange"):a>n&&s===a&&t.classList.add("endRange"),s>=l&&(0===u||s<=u)&&(o=a,c=n,(r=s)>Math.min(o,c)&&r<Math.max(o,c))&&t.classList.add("inRange")))})}}function ie(){!w.isOpen||w.config.static||w.config.inline||se()}function le(e){return function(t){var n=w.config["_"+e+"Date"]=w.parseDate(t,w.config.dateFormat),a=w.config["_"+("min"===e?"max":"min")+"Date"];void 0!==n&&(w["min"===e?"minDateHasTime":"maxDateHasTime"]=n.getHours()>0||n.getMinutes()>0||n.getSeconds()>0),w.selectedDates&&(w.selectedDates=w.selectedDates.filter(function(e){return te(e)}),w.selectedDates.length||"min"!==e||P(n),Ce()),w.daysContainer&&(de(),void 0!==n?w.currentYearElement[e]=n.getFullYear().toString():w.currentYearElement.removeAttribute(e),w.currentYearElement.disabled=!!a&&void 0!==n&&a.getFullYear()===n.getFullYear())}}function ue(){return w.config.wrap?h.querySelector("[data-input]"):h}function ce(){"object"!=i(w.config.locale)&&void 0===x.l10ns[w.config.locale]&&w.config.errorHandler(new Error("flatpickr: invalid locale "+w.config.locale)),w.l10n=e(e({},x.l10ns.default),"object"==i(w.config.locale)?w.config.locale:"default"!==w.config.locale?x.l10ns[w.config.locale]:void 0),y.D="("+w.l10n.weekdays.shorthand.join("|")+")",y.l="("+w.l10n.weekdays.longhand.join("|")+")",y.M="("+w.l10n.months.shorthand.join("|")+")",y.F="("+w.l10n.months.longhand.join("|")+")",y.K="("+w.l10n.amPM[0]+"|"+w.l10n.amPM[1]+"|"+w.l10n.amPM[0].toLowerCase()+"|"+w.l10n.amPM[1].toLowerCase()+")",void 0===e(e({},b),JSON.parse(JSON.stringify(h.dataset||{}))).time_24hr&&void 0===x.defaultConfig.time_24hr&&(w.config.time_24hr=w.l10n.time_24hr),w.formatDate=D(w),w.parseDate=E({config:w.config,l10n:w.l10n})}function se(e){if("function"!=typeof w.config.position){if(void 0!==w.calendarContainer){be("onPreCalendarPosition");var t=e||w._positionElement,n=Array.prototype.reduce.call(w.calendarContainer.children,function(e,t){return e+t.offsetHeight},0),a=w.calendarContainer.offsetWidth,r=w.config.position.split(" "),o=r[0],i=r.length>1?r[1]:null,l=t.getBoundingClientRect(),u=window.innerHeight-l.bottom,c="above"===o||"below"!==o&&u<n&&l.top>n,d=window.pageYOffset+l.top+(c?-n-2:t.offsetHeight+2);if(s(w.calendarContainer,"arrowTop",!c),s(w.calendarContainer,"arrowBottom",c),!w.config.inline){var f=window.pageXOffset+l.left,m=!1,p=!1;"center"===i?(f-=(a-l.width)/2,m=!0):"right"===i&&(f-=a-l.width,p=!0),s(w.calendarContainer,"arrowLeft",!m&&!p),s(w.calendarContainer,"arrowCenter",m),s(w.calendarContainer,"arrowRight",p);var g=window.document.body.offsetWidth-(window.pageXOffset+l.right),h=f+a>window.document.body.offsetWidth,v=g+a>window.document.body.offsetWidth;if(s(w.calendarContainer,"rightMost",h),!w.config.static)if(w.calendarContainer.style.top=d+"px",h)if(v){var b=function(){for(var e=null,t=0;t<document.styleSheets.length;t++){var n=document.styleSheets[t];if(n.cssRules){try{n.cssRules}catch(e){continue}e=n;break}}return null!=e?e:(a=document.createElement("style"),document.head.appendChild(a),a.sheet);var a}();if(void 0===b)return;var y=window.document.body.offsetWidth,D=Math.max(0,y/2-a/2),E=b.cssRules.length,C="{left:"+l.left+"px;right:auto;}";s(w.calendarContainer,"rightMost",!1),s(w.calendarContainer,"centerMost",!0),b.insertRule(".flatpickr-calendar.centerMost:before,.flatpickr-calendar.centerMost:after"+C,E),w.calendarContainer.style.left=D+"px",w.calendarContainer.style.right="auto"}else w.calendarContainer.style.left="auto",w.calendarContainer.style.right=g+"px";else w.calendarContainer.style.left=f+"px",w.calendarContainer.style.right="auto"}}}else w.config.position(w,e)}function de(){w.config.noCalendar||w.isMobile||(J(),De(),U())}function fe(){w._input.focus(),-1!==window.navigator.userAgent.indexOf("MSIE")||void 0!==navigator.msMaxTouchPoints?setTimeout(w.close,0):w.close()}function me(e){e.preventDefault(),e.stopPropagation();var t=m(g(e),function(e){return e.classList&&e.classList.contains("flatpickr-day")&&!e.classList.contains("flatpickr-disabled")&&!e.classList.contains("notAllowed")});if(void 0!==t){var n=t,a=w.latestSelectedDateObj=new Date(n.dateObj.getTime()),r=(a.getMonth()<w.currentMonth||a.getMonth()>w.currentMonth+w.config.showMonths-1)&&"range"!==w.config.mode;if(w.selectedDateElem=n,"single"===w.config.mode)w.selectedDates=[a];else if("multiple"===w.config.mode){var o=we(a);o?w.selectedDates.splice(parseInt(o),1):w.selectedDates.push(a)}else"range"===w.config.mode&&(2===w.selectedDates.length&&w.clear(!1,!1),w.latestSelectedDateObj=a,w.selectedDates.push(a),0!==C(a,w.selectedDates[0],!0)&&w.selectedDates.sort(function(e,t){return e.getTime()-t.getTime()}));if(T(),r){var i=w.currentYear!==a.getFullYear();w.currentYear=a.getFullYear(),w.currentMonth=a.getMonth(),i&&(be("onYearChange"),J()),be("onMonthChange")}if(De(),U(),Ce(),r||"range"===w.config.mode||1!==w.config.showMonths?void 0!==w.selectedDateElem&&void 0===w.hourElement&&w.selectedDateElem&&w.selectedDateElem.focus():H(n),void 0!==w.hourElement&&void 0!==w.hourElement&&w.hourElement.focus(),w.config.closeOnSelect){var l="single"===w.config.mode&&!w.config.enableTime,u="range"===w.config.mode&&2===w.selectedDates.length&&!w.config.enableTime;(l||u)&&fe()}F()}}w.parseDate=E({config:w.config,l10n:w.l10n}),w._handlers=[],w.pluginElements=[],w.loadedPlugins=[],w._bind=I,w._setHoursFromDate=P,w._positionCalendar=se,w.changeMonth=Z,w.changeYear=ee,w.clear=function(e,t){if(void 0===e&&(e=!0),void 0===t&&(t=!0),w.input.value="",void 0!==w.altInput&&(w.altInput.value=""),void 0!==w.mobileInput&&(w.mobileInput.value=""),w.selectedDates=[],w.latestSelectedDateObj=void 0,!0===t&&(w.currentYear=w._initialDate.getFullYear(),w.currentMonth=w._initialDate.getMonth()),!0===w.config.enableTime){var n=S(w.config);j(n.hours,n.minutes,n.seconds)}w.redraw(),e&&be("onChange")},w.close=function(){w.isOpen=!1,w.isMobile||(void 0!==w.calendarContainer&&w.calendarContainer.classList.remove("open"),void 0!==w._input&&w._input.classList.remove("active")),be("onClose")},w.onMouseOver=oe,w._createElement=d,w.createDay=B,w.destroy=function(){void 0!==w.config&&be("onDestroy");for(var e=w._handlers.length;e--;)w._handlers[e].remove();if(w._handlers=[],w.mobileInput)w.mobileInput.parentNode&&w.mobileInput.parentNode.removeChild(w.mobileInput),w.mobileInput=void 0;else if(w.calendarContainer&&w.calendarContainer.parentNode)if(w.config.static&&w.calendarContainer.parentNode){var t=w.calendarContainer.parentNode;if(t.lastChild&&t.removeChild(t.lastChild),t.parentNode){for(;t.firstChild;)t.parentNode.insertBefore(t.firstChild,t);t.parentNode.removeChild(t)}}else w.calendarContainer.parentNode.removeChild(w.calendarContainer);w.altInput&&(w.input.type="text",w.altInput.parentNode&&w.altInput.parentNode.removeChild(w.altInput),delete w.altInput),w.input&&(w.input.type=w.input._type,w.input.classList.remove("flatpickr-input"),w.input.removeAttribute("readonly")),["_showTimeInput","latestSelectedDateObj","_hideNextMonthArrow","_hidePrevMonthArrow","__hideNextMonthArrow","__hidePrevMonthArrow","isMobile","isOpen","selectedDateElem","minDateHasTime","maxDateHasTime","days","daysContainer","_input","_positionElement","innerContainer","rContainer","monthNav","todayDateElem","calendarContainer","weekdayContainer","prevMonthNav","nextMonthNav","monthsDropdownContainer","currentMonthElement","currentYearElement","navigationCurrentMonth","selectedDateElem","config"].forEach(function(e){try{delete w[e]}catch(e){}})},w.isEnabled=te,w.jumpToDate=R,w.updateValue=Ce,w.open=function(e,t){if(void 0===t&&(t=w._positionElement),!0===w.isMobile){if(e){e.preventDefault();var n=g(e);n&&n.blur()}return void 0!==w.mobileInput&&(w.mobileInput.focus(),w.mobileInput.click()),void be("onOpen")}if(!w._input.disabled&&!w.config.inline){var a=w.isOpen;w.isOpen=!0,a||(w.calendarContainer.classList.add("open"),w._input.classList.add("active"),be("onOpen"),se(t)),!0===w.config.enableTime&&!0===w.config.noCalendar&&(!1!==w.config.allowInput||void 0!==e&&w.timeContainer.contains(e.relatedTarget)||setTimeout(function(){return w.hourElement.select()},50))}},w.redraw=de,w.set=function(e,t){if(null!==e&&"object"==i(e))for(var a in Object.assign(w.config,e),e)void 0!==pe[a]&&pe[a].forEach(function(e){return e()});else w.config[e]=t,void 0!==pe[e]?pe[e].forEach(function(e){return e()}):n.indexOf(e)>-1&&(w.config[e]=c(t));w.redraw(),Ce(!0)},w.setDate=function(e,t,n){if(void 0===t&&(t=!1),void 0===n&&(n=w.config.dateFormat),0!==e&&!e||e instanceof Array&&0===e.length)return w.clear(t);ge(e,n),w.latestSelectedDateObj=w.selectedDates[w.selectedDates.length-1],w.redraw(),R(void 0,t),P(),0===w.selectedDates.length&&w.clear(!1),Ce(t),t&&be("onChange")},w.toggle=function(e){if(!0===w.isOpen)return w.close();w.open(e)};var pe={locale:[ce,V],showMonths:[G,O,z],minDate:[R],maxDate:[R],positionElement:[ve],clickOpens:[function(){!0===w.config.clickOpens?(I(w._input,"focus",w.open),I(w._input,"click",w.open)):(w._input.removeEventListener("focus",w.open),w._input.removeEventListener("click",w.open))}]};function ge(e,t){var n=[];if(e instanceof Array)n=e.map(function(e){return w.parseDate(e,t)});else if(e instanceof Date||"number"==typeof e)n=[w.parseDate(e,t)];else if("string"==typeof e)switch(w.config.mode){case"single":case"time":n=[w.parseDate(e,t)];break;case"multiple":n=e.split(w.config.conjunction).map(function(e){return w.parseDate(e,t)});break;case"range":n=e.split(w.l10n.rangeSeparator).map(function(e){return w.parseDate(e,t)})}else w.config.errorHandler(new Error("Invalid date supplied: "+JSON.stringify(e)));w.selectedDates=w.config.allowInvalidPreload?n:n.filter(function(e){return e instanceof Date&&te(e,!1)}),"range"===w.config.mode&&w.selectedDates.sort(function(e,t){return e.getTime()-t.getTime()})}function he(e){return e.slice().map(function(e){return"string"==typeof e||"number"==typeof e||e instanceof Date?w.parseDate(e,void 0,!0):e&&"object"==i(e)&&e.from&&e.to?{from:w.parseDate(e.from,void 0),to:w.parseDate(e.to,void 0)}:e}).filter(function(e){return e})}function ve(){w._positionElement=w.config.positionElement||w._input}function be(e,t){if(void 0!==w.config){var n=w.config[e];if(void 0!==n&&n.length>0)for(var a=0;n[a]&&a<n.length;a++)n[a](w.selectedDates,w.input.value,w,t);"onChange"===e&&(w.input.dispatchEvent(ye("change")),w.input.dispatchEvent(ye("input")))}}function ye(e){var t=document.createEvent("Event");return t.initEvent(e,!0,!0),t}function we(e){for(var t=0;t<w.selectedDates.length;t++){var n=w.selectedDates[t];if(n instanceof Date&&0===C(n,e))return""+t}return!1}function De(){w.config.noCalendar||w.isMobile||!w.monthNav||(w.yearElements.forEach(function(e,t){var n=new Date(w.currentYear,w.currentMonth,1);n.setMonth(w.currentMonth+t),w.config.showMonths>1||"static"===w.config.monthSelectorType?w.monthElements[t].textContent=v(n.getMonth(),w.config.shorthandCurrentMonth,w.l10n)+" ":w.monthsDropdownContainer.value=n.getMonth().toString(),e.value=n.getFullYear().toString()}),w._hidePrevMonthArrow=void 0!==w.config.minDate&&(w.currentYear===w.config.minDate.getFullYear()?w.currentMonth<=w.config.minDate.getMonth():w.currentYear<w.config.minDate.getFullYear()),w._hideNextMonthArrow=void 0!==w.config.maxDate&&(w.currentYear===w.config.maxDate.getFullYear()?w.currentMonth+1>w.config.maxDate.getMonth():w.currentYear>w.config.maxDate.getFullYear()))}function Ee(e){var t=e||(w.config.altInput?w.config.altFormat:w.config.dateFormat);return w.selectedDates.map(function(e){return w.formatDate(e,t)}).filter(function(e,t,n){return"range"!==w.config.mode||w.config.enableTime||n.indexOf(e)===t}).join("range"!==w.config.mode?w.config.conjunction:w.l10n.rangeSeparator)}function Ce(e){void 0===e&&(e=!0),void 0!==w.mobileInput&&w.mobileFormatStr&&(w.mobileInput.value=void 0!==w.latestSelectedDateObj?w.formatDate(w.latestSelectedDateObj,w.mobileFormatStr):""),w.input.value=Ee(w.config.dateFormat),void 0!==w.altInput&&(w.altInput.value=Ee(w.config.altFormat)),!1!==e&&be("onValueUpdate")}function Me(e){var t=g(e),n=w.prevMonthNav.contains(t),a=w.nextMonthNav.contains(t);n||a?Z(n?-1:1):w.yearElements.indexOf(t)>=0?t.select():t.classList.contains("arrowUp")?w.changeYear(w.currentYear+1):t.classList.contains("arrowDown")&&w.changeYear(w.currentYear-1)}return function(){w.element=w.input=h,w.isOpen=!1,function(){var t=["wrap","weekNumbers","allowInput","allowInvalidPreload","clickOpens","time_24hr","enableTime","noCalendar","altInput","shorthandCurrentMonth","inline","static","enableSeconds","disableMobile"],r=e(e({},JSON.parse(JSON.stringify(h.dataset||{}))),b),o={};w.config.parseDate=r.parseDate,w.config.formatDate=r.formatDate,Object.defineProperty(w.config,"enable",{get:function(){return w.config._enable},set:function(e){w.config._enable=he(e)}}),Object.defineProperty(w.config,"disable",{get:function(){return w.config._disable},set:function(e){w.config._disable=he(e)}});var i="time"===r.mode;if(!r.dateFormat&&(r.enableTime||i)){var l=x.defaultConfig.dateFormat||a.dateFormat;o.dateFormat=r.noCalendar||i?"H:i"+(r.enableSeconds?":S":""):l+" H:i"+(r.enableSeconds?":S":"")}if(r.altInput&&(r.enableTime||i)&&!r.altFormat){var u=x.defaultConfig.altFormat||a.altFormat;o.altFormat=r.noCalendar||i?"h:i"+(r.enableSeconds?":S K":" K"):u+" h:i"+(r.enableSeconds?":S":"")+" K"}Object.defineProperty(w.config,"minDate",{get:function(){return w.config._minDate},set:le("min")}),Object.defineProperty(w.config,"maxDate",{get:function(){return w.config._maxDate},set:le("max")});var s=function(e){return function(t){w.config["min"===e?"_minTime":"_maxTime"]=w.parseDate(t,"H:i:S")}};Object.defineProperty(w.config,"minTime",{get:function(){return w.config._minTime},set:s("min")}),Object.defineProperty(w.config,"maxTime",{get:function(){return w.config._maxTime},set:s("max")}),"time"===r.mode&&(w.config.noCalendar=!0,w.config.enableTime=!0),Object.assign(w.config,o,r);for(var d=0;d<t.length;d++)w.config[t[d]]=!0===w.config[t[d]]||"true"===w.config[t[d]];for(n.filter(function(e){return void 0!==w.config[e]}).forEach(function(e){w.config[e]=c(w.config[e]||[]).map(k)}),w.isMobile=!w.config.disableMobile&&!w.config.inline&&"single"===w.config.mode&&!w.config.disable.length&&!w.config.enable&&!w.config.weekNumbers&&/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent),d=0;d<w.config.plugins.length;d++){var f=w.config.plugins[d](w)||{};for(var m in f)n.indexOf(m)>-1?w.config[m]=c(f[m]).map(k).concat(w.config[m]):void 0===r[m]&&(w.config[m]=f[m])}r.altInputClass||(w.config.altInputClass=ue().className+" "+w.config.altInputClass),be("onParseConfig")}(),ce(),w.input=ue(),w.input?(w.input._type=w.input.type,w.input.type="text",w.input.classList.add("flatpickr-input"),w._input=w.input,w.config.altInput&&(w.altInput=d(w.input.nodeName,w.config.altInputClass),w._input=w.altInput,w.altInput.placeholder=w.input.placeholder,w.altInput.disabled=w.input.disabled,w.altInput.required=w.input.required,w.altInput.tabIndex=w.input.tabIndex,w.altInput.type="text",w.input.setAttribute("type","hidden"),!w.config.static&&w.input.parentNode&&w.input.parentNode.insertBefore(w.altInput,w.input.nextSibling)),w.config.allowInput||w._input.setAttribute("readonly","readonly"),ve()):w.config.errorHandler(new Error("Invalid input element specified")),function(){w.selectedDates=[],w.now=w.parseDate(w.config.now)||new Date;var e=w.config.defaultDate||("INPUT"!==w.input.nodeName&&"TEXTAREA"!==w.input.nodeName||!w.input.placeholder||w.input.value!==w.input.placeholder?w.input.value:null);e&&ge(e,w.config.dateFormat),w._initialDate=w.selectedDates.length>0?w.selectedDates[0]:w.config.minDate&&w.config.minDate.getTime()>w.now.getTime()?w.config.minDate:w.config.maxDate&&w.config.maxDate.getTime()<w.now.getTime()?w.config.maxDate:w.now,w.currentYear=w._initialDate.getFullYear(),w.currentMonth=w._initialDate.getMonth(),w.selectedDates.length>0&&(w.latestSelectedDateObj=w.selectedDates[0]),void 0!==w.config.minTime&&(w.config.minTime=w.parseDate(w.config.minTime,"H:i")),void 0!==w.config.maxTime&&(w.config.maxTime=w.parseDate(w.config.maxTime,"H:i")),w.minDateHasTime=!!w.config.minDate&&(w.config.minDate.getHours()>0||w.config.minDate.getMinutes()>0||w.config.minDate.getSeconds()>0),w.maxDateHasTime=!!w.config.maxDate&&(w.config.maxDate.getHours()>0||w.config.maxDate.getMinutes()>0||w.config.maxDate.getSeconds()>0)}(),w.utils={getDaysInMonth:function(e,t){return void 0===e&&(e=w.currentMonth),void 0===t&&(t=w.currentYear),1===e&&(t%4==0&&t%100!=0||t%400==0)?29:w.l10n.daysInMonth[e]}},w.isMobile||function(){var e=window.document.createDocumentFragment();if(w.calendarContainer=d("div","flatpickr-calendar"),w.calendarContainer.tabIndex=-1,!w.config.noCalendar){if(e.appendChild((w.monthNav=d("div","flatpickr-months"),w.yearElements=[],w.monthElements=[],w.prevMonthNav=d("span","flatpickr-prev-month"),w.prevMonthNav.innerHTML=w.config.prevArrow,w.nextMonthNav=d("span","flatpickr-next-month"),w.nextMonthNav.innerHTML=w.config.nextArrow,G(),Object.defineProperty(w,"_hidePrevMonthArrow",{get:function(){return w.__hidePrevMonthArrow},set:function(e){w.__hidePrevMonthArrow!==e&&(s(w.prevMonthNav,"flatpickr-disabled",e),w.__hidePrevMonthArrow=e)}}),Object.defineProperty(w,"_hideNextMonthArrow",{get:function(){return w.__hideNextMonthArrow},set:function(e){w.__hideNextMonthArrow!==e&&(s(w.nextMonthNav,"flatpickr-disabled",e),w.__hideNextMonthArrow=e)}}),w.currentYearElement=w.yearElements[0],De(),w.monthNav)),w.innerContainer=d("div","flatpickr-innerContainer"),w.config.weekNumbers){var t=function(){w.calendarContainer.classList.add("hasWeeks");var e=d("div","flatpickr-weekwrapper");e.appendChild(d("span","flatpickr-weekday",w.l10n.weekAbbreviation));var t=d("div","flatpickr-weeks");return e.appendChild(t),{weekWrapper:e,weekNumbers:t}}(),n=t.weekWrapper,a=t.weekNumbers;w.innerContainer.appendChild(n),w.weekNumbers=a,w.weekWrapper=n}w.rContainer=d("div","flatpickr-rContainer"),w.rContainer.appendChild(z()),w.daysContainer||(w.daysContainer=d("div","flatpickr-days"),w.daysContainer.tabIndex=-1),U(),w.rContainer.appendChild(w.daysContainer),w.innerContainer.appendChild(w.rContainer),e.appendChild(w.innerContainer)}w.config.enableTime&&e.appendChild(function(){w.calendarContainer.classList.add("hasTime"),w.config.noCalendar&&w.calendarContainer.classList.add("noCalendar");var e=S(w.config);w.timeContainer=d("div","flatpickr-time"),w.timeContainer.tabIndex=-1;var t=d("span","flatpickr-time-separator",":"),n=p("flatpickr-hour",{"aria-label":w.l10n.hourAriaLabel});w.hourElement=n.getElementsByTagName("input")[0];var a=p("flatpickr-minute",{"aria-label":w.l10n.minuteAriaLabel});if(w.minuteElement=a.getElementsByTagName("input")[0],w.hourElement.tabIndex=w.minuteElement.tabIndex=-1,w.hourElement.value=o(w.latestSelectedDateObj?w.latestSelectedDateObj.getHours():w.config.time_24hr?e.hours:function(e){switch(e%24){case 0:case 12:return 12;default:return e%12}}(e.hours)),w.minuteElement.value=o(w.latestSelectedDateObj?w.latestSelectedDateObj.getMinutes():e.minutes),w.hourElement.setAttribute("step",w.config.hourIncrement.toString()),w.minuteElement.setAttribute("step",w.config.minuteIncrement.toString()),w.hourElement.setAttribute("min",w.config.time_24hr?"0":"1"),w.hourElement.setAttribute("max",w.config.time_24hr?"23":"12"),w.hourElement.setAttribute("maxlength","2"),w.minuteElement.setAttribute("min","0"),w.minuteElement.setAttribute("max","59"),w.minuteElement.setAttribute("maxlength","2"),w.timeContainer.appendChild(n),w.timeContainer.appendChild(t),w.timeContainer.appendChild(a),w.config.time_24hr&&w.timeContainer.classList.add("time24hr"),w.config.enableSeconds){w.timeContainer.classList.add("hasSeconds");var r=p("flatpickr-second");w.secondElement=r.getElementsByTagName("input")[0],w.secondElement.value=o(w.latestSelectedDateObj?w.latestSelectedDateObj.getSeconds():e.seconds),w.secondElement.setAttribute("step",w.minuteElement.getAttribute("step")),w.secondElement.setAttribute("min","0"),w.secondElement.setAttribute("max","59"),w.secondElement.setAttribute("maxlength","2"),w.timeContainer.appendChild(d("span","flatpickr-time-separator",":")),w.timeContainer.appendChild(r)}return w.config.time_24hr||(w.amPM=d("span","flatpickr-am-pm",w.l10n.amPM[l((w.latestSelectedDateObj?w.hourElement.value:w.config.defaultHour)>11)]),w.amPM.title=w.l10n.toggleTitle,w.amPM.tabIndex=-1,w.timeContainer.appendChild(w.amPM)),w.timeContainer}()),s(w.calendarContainer,"rangeMode","range"===w.config.mode),s(w.calendarContainer,"animate",!0===w.config.animate),s(w.calendarContainer,"multiMonth",w.config.showMonths>1),w.calendarContainer.appendChild(e);var r=void 0!==w.config.appendTo&&void 0!==w.config.appendTo.nodeType;if((w.config.inline||w.config.static)&&(w.calendarContainer.classList.add(w.config.inline?"inline":"static"),w.config.inline&&(!r&&w.element.parentNode?w.element.parentNode.insertBefore(w.calendarContainer,w._input.nextSibling):void 0!==w.config.appendTo&&w.config.appendTo.appendChild(w.calendarContainer)),w.config.static)){var i=d("div","flatpickr-wrapper");w.element.parentNode&&w.element.parentNode.insertBefore(i,w.element),i.appendChild(w.element),w.altInput&&i.appendChild(w.altInput),i.appendChild(w.calendarContainer)}w.config.static||w.config.inline||(void 0!==w.config.appendTo?w.config.appendTo:window.document.body).appendChild(w.calendarContainer)}(),function(){if(w.config.wrap&&["open","close","toggle","clear"].forEach(function(e){Array.prototype.forEach.call(w.element.querySelectorAll("[data-"+e+"]"),function(t){return I(t,"click",w[e])})}),w.isMobile)!function(){var e=w.config.enableTime?w.config.noCalendar?"time":"datetime-local":"date";w.mobileInput=d("input",w.input.className+" flatpickr-mobile"),w.mobileInput.tabIndex=1,w.mobileInput.type=e,w.mobileInput.disabled=w.input.disabled,w.mobileInput.required=w.input.required,w.mobileInput.placeholder=w.input.placeholder,w.mobileFormatStr="datetime-local"===e?"Y-m-d\\TH:i:S":"date"===e?"Y-m-d":"H:i:S",w.selectedDates.length>0&&(w.mobileInput.defaultValue=w.mobileInput.value=w.formatDate(w.selectedDates[0],w.mobileFormatStr)),w.config.minDate&&(w.mobileInput.min=w.formatDate(w.config.minDate,"Y-m-d")),w.config.maxDate&&(w.mobileInput.max=w.formatDate(w.config.maxDate,"Y-m-d")),w.input.getAttribute("step")&&(w.mobileInput.step=String(w.input.getAttribute("step"))),w.input.type="hidden",void 0!==w.altInput&&(w.altInput.type="hidden");try{w.input.parentNode&&w.input.parentNode.insertBefore(w.mobileInput,w.input.nextSibling)}catch(e){}I(w.mobileInput,"change",function(e){w.setDate(g(e).value,!1,w.mobileFormatStr),be("onChange"),be("onClose")})}();else{var e=u(ie,50);w._debouncedChange=u(F,300),w.daysContainer&&!/iPhone|iPad|iPod/i.test(navigator.userAgent)&&I(w.daysContainer,"mouseover",function(e){"range"===w.config.mode&&oe(g(e))}),I(w._input,"keydown",re),void 0!==w.calendarContainer&&I(w.calendarContainer,"keydown",re),w.config.inline||w.config.static||I(window,"resize",e),void 0!==window.ontouchstart?I(window.document,"touchstart",X):I(window.document,"mousedown",X),I(window.document,"focus",X,{capture:!0}),!0===w.config.clickOpens&&(I(w._input,"focus",w.open),I(w._input,"click",w.open)),void 0!==w.daysContainer&&(I(w.monthNav,"click",Me),I(w.monthNav,["keyup","increment"],A),I(w.daysContainer,"click",me)),void 0!==w.timeContainer&&void 0!==w.minuteElement&&void 0!==w.hourElement&&(I(w.timeContainer,["increment"],_),I(w.timeContainer,"blur",_,{capture:!0}),I(w.timeContainer,"click",Y),I([w.hourElement,w.minuteElement],["focus","click"],function(e){return g(e).select()}),void 0!==w.secondElement&&I(w.secondElement,"focus",function(){return w.secondElement&&w.secondElement.select()}),void 0!==w.amPM&&I(w.amPM,"click",function(e){_(e)})),w.config.allowInput&&I(w._input,"blur",ae)}}(),(w.selectedDates.length||w.config.noCalendar)&&(w.config.enableTime&&P(w.config.noCalendar?w.latestSelectedDateObj:void 0),Ce(!1)),O();var t=/^((?!chrome|android).)*safari/i.test(navigator.userAgent);!w.isMobile&&t&&se(),be("onReady")}(),w}function k(e,t){for(var n=Array.prototype.slice.call(e).filter(function(e){return e instanceof HTMLElement}),a=[],r=0;r<n.length;r++){var o=n[r];try{if(null!==o.getAttribute("data-fp-omit"))continue;void 0!==o._flatpickr&&(o._flatpickr.destroy(),o._flatpickr=void 0),o._flatpickr=N(o,t||{}),a.push(o._flatpickr)}catch(e){console.error(e)}}return 1===a.length?a[0]:a}"function"!=typeof Object.assign&&(Object.assign=function(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];if(!e)throw TypeError("Cannot convert undefined or null to object");for(var a=function(t){t&&Object.keys(t).forEach(function(n){return e[n]=t[n]})},r=0,o=t;r<o.length;r++)a(o[r]);return e}),"undefined"!=typeof HTMLElement&&"undefined"!=typeof HTMLCollection&&"undefined"!=typeof NodeList&&(HTMLCollection.prototype.flatpickr=NodeList.prototype.flatpickr=function(e){return k(this,e)},HTMLElement.prototype.flatpickr=function(e){return k([this],e)});var x=function(e,t){return"string"==typeof e?k(window.document.querySelectorAll(e),t):e instanceof Node?k([e],t):k(e,t)};return x.defaultConfig={},x.l10ns={en:e({},r),default:e({},r)},x.localize=function(t){x.l10ns.default=e(e({},x.l10ns.default),t)},x.setDefaults=function(t){x.defaultConfig=e(e({},x.defaultConfig),t)},x.parseDate=E({}),x.formatDate=D({}),x.compareDates=C,"undefined"!=typeof jQuery&&void 0!==jQuery.fn&&(jQuery.fn.flatpickr=function(e){return k(this,e)}),Date.prototype.fp_incr=function(e){return new Date(this.getFullYear(),this.getMonth(),this.getDate()+("string"==typeof e?parseInt(e,10):e))},"undefined"!=typeof window&&(window.flatpickr=x),x},"object"==i(t)?e.exports=o():void 0===(r="function"==typeof(a=o)?a.call(t,n,t,e):a)||(e.exports=r)},540:(e,t,n)=>{e.exports=n(287)},591:(e,t,n)=>{function a(e){return a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},a(e)}var r=function(e){if("function"==typeof WeakMap){var t=new WeakMap;new WeakMap}return function(e){if(e&&e.__esModule)return e;var n,r,o={__proto__:null,default:e};if(null===e||"object"!=a(e)&&"function"!=typeof e)return o;if(n=t){if(n.has(e))return n.get(e);n.set(e,o)}for(var i in e)"default"!==i&&{}.hasOwnProperty.call(e,i)&&((r=(n=Object.defineProperty)&&Object.getOwnPropertyDescriptor(e,i))&&(r.get||r.set)?n(o,i,r):o[i]=e[i]);return o}(e)}(n(540));function o(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var a,r,o,i,l=[],u=!0,c=!1;try{if(o=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;u=!1}else for(;!(u=(a=o.call(n)).done)&&(l.push(a.value),l.length!==t);u=!0);}catch(e){c=!0,r=e}finally{try{if(!u&&null!=n.return&&(i=n.return(),Object(i)!==i))return}finally{if(c)throw r}}return l}}(e,t)||function(e,t){if(e){if("string"==typeof e)return i(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?i(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function i(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,a=Array(t);n<t;n++)a[n]=e[n];return a}function l(){var e,t,n="function"==typeof Symbol?Symbol:{},a=n.iterator||"@@iterator",r=n.toStringTag||"@@toStringTag";function o(n,a,r,o){var l=a&&a.prototype instanceof c?a:c,s=Object.create(l.prototype);return u(s,"_invoke",function(n,a,r){var o,l,u,c=0,s=r||[],d=!1,f={p:0,n:0,v:e,a:m,f:m.bind(e,4),d:function(t,n){return o=t,l=0,u=e,f.n=n,i}};function m(n,a){for(l=n,u=a,t=0;!d&&c&&!r&&t<s.length;t++){var r,o=s[t],m=f.p,p=o[2];n>3?(r=p===a)&&(u=o[(l=o[4])?5:(l=3,3)],o[4]=o[5]=e):o[0]<=m&&((r=n<2&&m<o[1])?(l=0,f.v=a,f.n=o[1]):m<p&&(r=n<3||o[0]>a||a>p)&&(o[4]=n,o[5]=a,f.n=p,l=0))}if(r||n>1)return i;throw d=!0,a}return function(r,s,p){if(c>1)throw TypeError("Generator is already running");for(d&&1===s&&m(s,p),l=s,u=p;(t=l<2?e:u)||!d;){o||(l?l<3?(l>1&&(f.n=-1),m(l,u)):f.n=u:f.v=u);try{if(c=2,o){if(l||(r="next"),t=o[r]){if(!(t=t.call(o,u)))throw TypeError("iterator result is not an object");if(!t.done)return t;u=t.value,l<2&&(l=0)}else 1===l&&(t=o.return)&&t.call(o),l<2&&(u=TypeError("The iterator does not provide a '"+r+"' method"),l=1);o=e}else if((t=(d=f.n<0)?u:n.call(a,f))!==i)break}catch(t){o=e,l=1,u=t}finally{c=1}}return{value:t,done:d}}}(n,r,o),!0),s}var i={};function c(){}function s(){}function d(){}t=Object.getPrototypeOf;var f=[][a]?t(t([][a]())):(u(t={},a,function(){return this}),t),m=d.prototype=c.prototype=Object.create(f);function p(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,d):(e.__proto__=d,u(e,r,"GeneratorFunction")),e.prototype=Object.create(m),e}return s.prototype=d,u(m,"constructor",d),u(d,"constructor",s),s.displayName="GeneratorFunction",u(d,r,"GeneratorFunction"),u(m),u(m,r,"Generator"),u(m,a,function(){return this}),u(m,"toString",function(){return"[object Generator]"}),(l=function(){return{w:o,m:p}})()}function u(e,t,n,a){var r=Object.defineProperty;try{r({},"",{})}catch(e){r=0}u=function(e,t,n,a){if(t)r?r(e,t,{value:n,enumerable:!a,configurable:!a,writable:!a}):e[t]=n;else{var o=function(t,n){u(e,t,function(e){return this._invoke(t,n,e)})};o("next",0),o("throw",1),o("return",2)}},u(e,t,n,a)}function c(e,t,n,a,r,o,i){try{var l=e[o](i),u=l.value}catch(e){return void n(e)}l.done?t(u):Promise.resolve(u).then(a,r)}function s(e){return function(){var t=this,n=arguments;return new Promise(function(a,r){var o=e.apply(t,n);function i(e){c(o,a,r,i,l,"next",e)}function l(e){c(o,a,r,i,l,"throw",e)}i(void 0)})}}var d=function(){var e=s(l().m(function e(t,n,a,r){var o,i,u,c;return l().w(function(e){for(;;)switch(e.n){case 0:return o={action:"getSalesDataByBillNumberAndDate",billNumber:t,date:n,userEmail:a},console.log("fetchPrintData payload:",o),e.p=1,e.n=2,fetch(window.API_URL,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(o)});case 2:return i=e.v,e.n=3,i.json();case 3:if(u=e.v,console.log("fetchPrintData response:",u),!u.error){e.n=4;break}throw new Error(u.error);case 4:return e.a(2,u);case 5:return e.p=5,c=e.v,r("Error fetching print data: "+c.message,"error"),e.a(2,null)}},e,null,[[1,5]])}));return function(t,n,a,r){return e.apply(this,arguments)}}();window.SalesRecentTable=function(e){var t=e.userEmail,n=e.showNotification,a=o((0,r.useState)([]),2),i=a[0],u=a[1],c=o((0,r.useState)(!1),2),d=c[0],f=c[1],m=function(){var e=s(l().m(function e(){var a,r,o,i;return l().w(function(e){for(;;)switch(e.n){case 0:return f(!0),a={action:"getRecentEntries",table:"SalesData",userEmail:t,limit:20},console.log("fetchSalesData payload:",a),e.p=1,e.n=2,fetch(window.API_URL,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(a)});case 2:return r=e.v,e.n=3,r.json();case 3:if(o=e.v,console.log("fetchSalesData response:",o),!o.error){e.n=4;break}throw new Error(o.error);case 4:u(o.recentEntries||[]),e.n=6;break;case 5:e.p=5,i=e.v,n("Error fetching sales data: "+i.message,"error");case 6:return e.p=6,f(!1),e.f(6);case 7:return e.a(2)}},e,null,[[1,5,6,7]])}));return function(){return e.apply(this,arguments)}}();return(0,r.useEffect)(function(){m()},[t]),r.default.createElement("div",{className:"table-container"},d&&r.default.createElement("div",{className:"loading-overlay"},"Loading sales data..."),r.default.createElement("table",{className:"sales-table"},r.default.createElement("thead",null,r.default.createElement("tr",null,r.default.createElement("th",null,"Date"),r.default.createElement("th",null,"Bill Number"),r.default.createElement("th",null,"Shop"),r.default.createElement("th",null,"Salesman"),r.default.createElement("th",null,"Amount"),r.default.createElement("th",null,"Actions"))),r.default.createElement("tbody",null,i.map(function(e,t){return r.default.createElement("tr",{key:t},r.default.createElement("td",null,e.Date?e.Date:"Unknown"),r.default.createElement("td",null,e.Bill_Number),r.default.createElement("td",null,e.Shop_Name||"Unknown"),r.default.createElement("td",null,e.Salesman||"Unknown"),r.default.createElement("td",null,e.Total_Amount||0),r.default.createElement("td",null,r.default.createElement("button",{onClick:function(){return t=e.Bill_Number,n=e.Date,void(window.salesFormInitialize&&window.salesFormInitialize(t,n));var t,n},className:"bg-blue-500 text-white p-1 rounded mr-2"},"Edit")))}))))},window.SalesPrintPreview=function(e){var t,n,a=e.sales,i=e.showNotification,u=o((0,r.useState)(null),2),c=u[0],f=u[1];return(0,r.useEffect)(function(){var e=function(){var e=s(l().m(function e(){var t;return l().w(function(e){for(;;)switch(e.n){case 0:return e.n=1,d(a.billNumber,a.date,a.userEmail,i);case 1:t=e.v,f(t);case 2:return e.a(2)}},e)}));return function(){return e.apply(this,arguments)}}();a.billNumber&&a.date&&e()},[a.billNumber,a.date,a.userEmail]),r.default.createElement("div",{id:"salesPrintPreview",className:"print-preview"},c?r.default.createElement("div",null,r.default.createElement("h3",null,"Sales Receipt"),r.default.createElement("p",null,"Bill Number: ".concat(c.billNumber)),r.default.createElement("p",null,"Date: ".concat(c.date)),r.default.createElement("p",null,"Shop: ".concat((null===(t=c.salesData[0])||void 0===t?void 0:t.Shop_Name)||"Unknown")),r.default.createElement("p",null,"Salesman: ".concat((null===(n=c.salesData[0])||void 0===n?void 0:n.Salesman)||"Unknown"))):r.default.createElement("div",null,"No data available"))}}},t={};function n(a){var r=t[a];if(void 0!==r)return r.exports;var o=t[a]={exports:{}};return e[a](o,o.exports,n),o.exports}function a(e){return a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},a(e)}var r,o=function(e){if("function"==typeof WeakMap){var t=new WeakMap;new WeakMap}return function(e){if(e&&e.__esModule)return e;var n,r,o={__proto__:null,default:e};if(null===e||"object"!=a(e)&&"function"!=typeof e)return o;if(n=t){if(n.has(e))return n.get(e);n.set(e,o)}for(var i in e)"default"!==i&&{}.hasOwnProperty.call(e,i)&&((r=(n=Object.defineProperty)&&Object.getOwnPropertyDescriptor(e,i))&&(r.get||r.set)?n(o,i,r):o[i]=e[i]);return o}(e)}(n(540)),i=(r=n(377))&&r.__esModule?r:{default:r},l=n(591);function u(e){return function(e){if(Array.isArray(e))return b(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||v(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function c(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,a)}return n}function s(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?c(Object(n),!0).forEach(function(t){d(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):c(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function d(e,t,n){return(t=function(e){var t=function(e){if("object"!=a(e)||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var n=t.call(e,"string");if("object"!=a(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==a(t)?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function f(){var e,t,n="function"==typeof Symbol?Symbol:{},a=n.iterator||"@@iterator",r=n.toStringTag||"@@toStringTag";function o(n,a,r,o){var u=a&&a.prototype instanceof l?a:l,c=Object.create(u.prototype);return m(c,"_invoke",function(n,a,r){var o,l,u,c=0,s=r||[],d=!1,f={p:0,n:0,v:e,a:m,f:m.bind(e,4),d:function(t,n){return o=t,l=0,u=e,f.n=n,i}};function m(n,a){for(l=n,u=a,t=0;!d&&c&&!r&&t<s.length;t++){var r,o=s[t],m=f.p,p=o[2];n>3?(r=p===a)&&(u=o[(l=o[4])?5:(l=3,3)],o[4]=o[5]=e):o[0]<=m&&((r=n<2&&m<o[1])?(l=0,f.v=a,f.n=o[1]):m<p&&(r=n<3||o[0]>a||a>p)&&(o[4]=n,o[5]=a,f.n=p,l=0))}if(r||n>1)return i;throw d=!0,a}return function(r,s,p){if(c>1)throw TypeError("Generator is already running");for(d&&1===s&&m(s,p),l=s,u=p;(t=l<2?e:u)||!d;){o||(l?l<3?(l>1&&(f.n=-1),m(l,u)):f.n=u:f.v=u);try{if(c=2,o){if(l||(r="next"),t=o[r]){if(!(t=t.call(o,u)))throw TypeError("iterator result is not an object");if(!t.done)return t;u=t.value,l<2&&(l=0)}else 1===l&&(t=o.return)&&t.call(o),l<2&&(u=TypeError("The iterator does not provide a '"+r+"' method"),l=1);o=e}else if((t=(d=f.n<0)?u:n.call(a,f))!==i)break}catch(t){o=e,l=1,u=t}finally{c=1}}return{value:t,done:d}}}(n,r,o),!0),c}var i={};function l(){}function u(){}function c(){}t=Object.getPrototypeOf;var s=[][a]?t(t([][a]())):(m(t={},a,function(){return this}),t),d=c.prototype=l.prototype=Object.create(s);function p(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,c):(e.__proto__=c,m(e,r,"GeneratorFunction")),e.prototype=Object.create(d),e}return u.prototype=c,m(d,"constructor",c),m(c,"constructor",u),u.displayName="GeneratorFunction",m(c,r,"GeneratorFunction"),m(d),m(d,r,"Generator"),m(d,a,function(){return this}),m(d,"toString",function(){return"[object Generator]"}),(f=function(){return{w:o,m:p}})()}function m(e,t,n,a){var r=Object.defineProperty;try{r({},"",{})}catch(e){r=0}m=function(e,t,n,a){if(t)r?r(e,t,{value:n,enumerable:!a,configurable:!a,writable:!a}):e[t]=n;else{var o=function(t,n){m(e,t,function(e){return this._invoke(t,n,e)})};o("next",0),o("throw",1),o("return",2)}},m(e,t,n,a)}function p(e,t,n,a,r,o,i){try{var l=e[o](i),u=l.value}catch(e){return void n(e)}l.done?t(u):Promise.resolve(u).then(a,r)}function g(e){return function(){var t=this,n=arguments;return new Promise(function(a,r){var o=e.apply(t,n);function i(e){p(o,a,r,i,l,"next",e)}function l(e){p(o,a,r,i,l,"throw",e)}i(void 0)})}}function h(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var a,r,o,i,l=[],u=!0,c=!1;try{if(o=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;u=!1}else for(;!(u=(a=o.call(n)).done)&&(l.push(a.value),l.length!==t);u=!0);}catch(e){c=!0,r=e}finally{try{if(!u&&null!=n.return&&(i=n.return(),Object(i)!==i))return}finally{if(c)throw r}}return l}}(e,t)||v(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function v(e,t){if(e){if("string"==typeof e)return b(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?b(e,t):void 0}}function b(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,a=Array(t);n<t;n++)a[n]=e[n];return a}function y(e){var t=e.login,n=h((0,o.useState)(""),2),a=n[0],r=n[1],i=h((0,o.useState)(""),2),l=i[0],u=i[1];return o.default.createElement("div",{className:"login-container"},o.default.createElement("h2",{className:"text-2xl font-bold mb-4"},"Login"),o.default.createElement("div",{className:"form"},o.default.createElement("div",{className:"mb-4"},o.default.createElement("label",{htmlFor:"email",className:"block mb-1"},"Email"),o.default.createElement("input",{type:"email",id:"email",value:a,onChange:function(e){return r(e.target.value)},className:"border p-2 w-full",required:!0,autoComplete:"username"})),o.default.createElement("div",{className:"mb-4"},o.default.createElement("label",{htmlFor:"password",className:"block mb-1"},"Password"),o.default.createElement("input",{type:"password",id:"password",value:l,onChange:function(e){return u(e.target.value)},className:"border p-2 w-full",required:!0,autoComplete:"current-password"})),o.default.createElement("button",{onClick:function(e){e.preventDefault(),t(a,l)},className:"bg-blue-500 text-white p-2 rounded w-full"},"Login")))}function w(e){var t=e.userEmail,n=e.showNotification,a=h((0,o.useState)([{item:"",amount:"",rmdCstm:""}]),2),r=a[0],c=a[1],m=h((0,o.useState)([{paymode:"",amountReceived:""}]),2),p=m[0],v=m[1],b=h((0,o.useState)([]),2),y=b[0],w=b[1],D=h((0,o.useState)([]),2),E=D[0],C=D[1],M=h((0,o.useState)([]),2),S=M[0],N=M[1],k=h((0,o.useState)([]),2),x=k[0],O=k[1],_=h((0,o.useState)([]),2),T=_[0],P=_[1],j=h((0,o.useState)([]),2),A=j[0],I=j[1],F=h((0,o.useState)(null),2),R=F[0],Y=F[1],L=h((0,o.useState)(!1),2),B=L[0],H=L[1],W=h((0,o.useState)(null),2),$=(W[0],W[1]),q=h((0,o.useState)(null),2),U=(q[0],q[1]),J=h((0,o.useState)({date:(new Date).toISOString().split("T")[0],billNumber:"",salesman:"",shopName:"",department:"",mobileNumber:"",dueBalanceReceived:"",dueBalanceBillNumber:"",balanceDue:"",deliveryDate:""}),2),K=J[0],G=J[1],z=h((0,o.useState)(!1),2),V=z[0],Z=z[1],Q=h((0,o.useState)([]),2),X=Q[0],ee=Q[1],te=h((0,o.useState)(0),2),ne=te[0],ae=te[1],re=h((0,o.useState)(0),2),oe=re[0],ie=re[1],le=(0,o.useRef)(null),ue=(0,o.useRef)(null);window.salesFormInitialize=function(e,t){H(!0),$(e),U(t),G(function(n){return s(s({},n),{},{billNumber:e,date:t})}),ce(e,t)};var ce=function(){var e=g(f().m(function e(a,r){var o,i,l,u,d,m;return f().w(function(e){for(;;)switch(e.n){case 0:return Z(!0),o={action:"getSalesDataByBillNumberAndDate",billNumber:a,date:r,userEmail:t},console.log("fetchSalesData payload:",o),e.p=1,e.n=2,fetch("https://us-central1-myposdata.cloudfunctions.net/sales",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(o)});case 2:return i=e.v,e.n=3,i.json();case 3:if(l=e.v,console.log("fetchSalesData response:",l),!l.error){e.n=4;break}throw new Error(l.error);case 4:u=l.salesData,d=l.paymentData,u&&u.length>0&&(G(function(e){return s(s({},e),{},{salesman:u[0].Salesman||"",shopName:u[0].Shop_Name||"",department:u[0].Department||"",mobileNumber:u[0].Mobile_Number||"",dueBalanceReceived:u[0].Due_Balance_Received||"",dueBalanceBillNumber:u[0].Due_Balance_Bill_Number||"",balanceDue:u[0].Balance_Due||"",deliveryDate:u[0].Delivery_Date||""})}),c(u.map(function(e){return{item:e.Item||"",amount:e.Amount||"",rmdCstm:e.RMD_CSTM||""}})),v(d.map(function(e){return{paymode:e.Paymode||"",amountReceived:e.Amount_Received||""}}))),e.n=6;break;case 5:e.p=5,m=e.v,n("Error fetching sales data: ".concat(m.message),"error");case 6:return e.p=6,Z(!1),e.f(6);case 7:return e.a(2)}},e,null,[[1,5,6,7]])}));return function(t,n){return e.apply(this,arguments)}}();(0,o.useEffect)(function(){le.current&&(0,i.default)(le.current,{dateFormat:"Y-m-d",defaultDate:R||new Date,onChange:function(e,t){G(function(e){return s(s({},e),{},{date:t})}),Y(t)}}),ue.current&&(0,i.default)(ue.current,{dateFormat:"Y-m-d",onChange:function(e,t){G(function(e){return s(s({},e),{},{deliveryDate:t})})}})},[R]),(0,o.useEffect)(function(){se()},[]);var se=function(){var e=g(f().m(function e(){var a,r,o,i;return f().w(function(e){for(;;)switch(e.n){case 0:return Z(!0),a={action:"getNamesForSaleData",userEmail:t},console.log("fetchNames payload:",a),e.p=1,e.n=2,fetch("https://us-central1-myposdata.cloudfunctions.net/sales",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(a)});case 2:return r=e.v,e.n=3,r.json();case 3:if(o=e.v,console.log("fetchNames response:",o),!o.error){e.n=4;break}throw new Error(o.error);case 4:w(o.items||[]),C(o.salesmen||[]),N(o.paymodes||[]),O(o.shopNames||[]),P(o.departments||[]),I(o.rmdCstms||[]),de(),e.n=6;break;case 5:e.p=5,i=e.v,n("Failed to load sales data: "+i.message,"error");case 6:return e.p=6,Z(!1),e.f(6);case 7:return e.a(2)}},e,null,[[1,5,6,7]])}));return function(){return e.apply(this,arguments)}}(),de=function(){var e=g(f().m(function e(){var a,r,o,i;return f().w(function(e){for(;;)switch(e.n){case 0:return Z(!0),a={action:"getBillNumbersWithPendingBalance",userEmail:t},console.log("updateDueBalanceBillNumbers payload:",a),e.p=1,e.n=2,fetch("https://us-central1-myposdata.cloudfunctions.net/sales",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(a)});case 2:return r=e.v,e.n=3,r.json();case 3:if(o=e.v,console.log("updateDueBalanceBillNumbers response:",o),!o.error){e.n=4;break}throw new Error(o.error);case 4:ee(o||[]),e.n=6;break;case 5:e.p=5,i=e.v,n("Failed to load bill numbers: "+i.message,"error");case 6:return e.p=6,Z(!1),e.f(6);case 7:return e.a(2)}},e,null,[[1,5,6,7]])}));return function(){return e.apply(this,arguments)}}(),fe=function(e,t,n){c(function(a){return a.map(function(a,r){return r===e?s(s({},a),{},d({},t,n)):a})})},me=function(e,t,n){console.log("updatePaymentRow: index=".concat(e,", field=").concat(t,", value=").concat(n)),v(function(a){return a.map(function(a,r){return r===e?s(s({},a),{},d({},t,n)):a})})},pe=function(){console.log("updateTotal called");var e=0;r.forEach(function(t){if(t.amount){var n=parseFloat(t.amount);isNaN(n)||(e+=n)}});var t=parseFloat(K.dueBalanceReceived)||0,n=parseFloat(K.balanceDue)||0,a=0;p.forEach(function(e){if(e.amountReceived){var t=parseFloat(e.amountReceived);isNaN(t)||(a+=t)}});var o=parseFloat((e+t-n).toFixed(2));a=parseFloat(a.toFixed(2)),console.log("Calculated: totalItems=".concat(e,", dueBalanceReceived=").concat(t,", balanceDue=").concat(n,", total=").concat(o,", totalReceived=").concat(a)),ae(o),ie(a)};(0,o.useEffect)(function(){pe()},[r,p,K.dueBalanceReceived,K.balanceDue]);var ge,he=function(e){return e.item&&y.includes(e.item)&&e.amount&&e.rmdCstm&&A.includes(e.rmdCstm)},ve=function(e){var t=parseFloat(e.amountReceived);return e.paymode&&S.includes(e.paymode)&&!isNaN(t)&&t>0},be=function(){var e=g(f().m(function e(a,r){var o,i,l,u;return f().w(function(e){for(;;)switch(e.n){case 0:return o={action:"checkBillNumberDateDuplicate",billNumber:a,date:r,userEmail:t},console.log("checkBillNumberDateDuplicate payload:",o),e.p=1,e.n=2,fetch("https://us-central1-myposdata.cloudfunctions.net/sales",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(o)});case 2:return i=e.v,e.n=3,i.json();case 3:if(l=e.v,console.log("checkBillNumberDateDuplicate response:",l),!l.error){e.n=4;break}throw new Error(l.error);case 4:return e.a(2,l.isDuplicate);case 5:return e.p=5,u=e.v,n("Error validating bill number and date: "+u.message,"error"),e.a(2,!0)}},e,null,[[1,5]])}));return function(t,n){return e.apply(this,arguments)}}(),ye=function(){var e=g(f().m(function e(){var a,o,i,l,u,c;return f().w(function(e){for(;;)switch(e.n){case 0:if(K.date&&K.billNumber&&K.salesman&&K.shopName&&K.department){e.n=1;break}return n("Please fill out all required static fields.","error"),e.a(2);case 1:if(B){e.n=3;break}return e.n=2,be(K.billNumber,K.date);case 2:if(!e.v){e.n=3;break}return n("This bill number and date combination already exists.","error"),e.a(2);case 3:if(B){e.n=4;break}if(!((a=r.reduce(function(e,t,n){return he(t)||e.push(n+1),e},[])).length>0)){e.n=4;break}return n("Invalid rows: ".concat(a.join(", ")),"error"),e.a(2);case 4:if(!(p.length>0)){e.n=5;break}if(!((o=p.reduce(function(e,t,n){return ve(t)||e.push(n+1),e},[])).length>0)){e.n=5;break}return n("Invalid payment rows: ".concat(o.join(", ")),"error"),e.a(2);case 5:if(!(Math.abs(ne-oe)>.01)){e.n=6;break}return n("Total Amount and Amount Received must be equal.","error"),e.a(2);case 6:return i=s(s({},K),{},{data:r.filter(he),paymentData:p.filter(ve)}),console.log("submit payload:",i),Z(!0),e.p=7,e.n=8,fetch("https://us-central1-myposdata.cloudfunctions.net/sales",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({action:B?"updateSalesData":"saveSalesData",data:i,userEmail:t})});case 8:return l=e.v,e.n=9,l.json();case 9:if(u=e.v,console.log("submit response:",u),!u.error){e.n=10;break}throw new Error(u.error);case 10:n("Sales data ".concat(B?"updated":"saved"," successfully! Rows saved: ").concat(u.rowsSaved),"success"),we(),e.n=12;break;case 11:e.p=11,c=e.v,n("Error ".concat(B?"updating":"saving"," sales data: ").concat(c.message),"error");case 12:return e.p=12,Z(!1),e.f(12);case 13:return e.a(2)}},e,null,[[7,11,12,13]])}));return function(){return e.apply(this,arguments)}}(),we=function(){H(!1),$(null),U(null),G({date:R||(new Date).toISOString().split("T")[0],billNumber:"",salesman:"",shopName:"",department:"",mobileNumber:"",dueBalanceReceived:"",dueBalanceBillNumber:"",balanceDue:"",deliveryDate:""}),c([{item:"",amount:"",rmdCstm:""}]),v([{paymode:"",amountReceived:""}]),pe()};return o.default.createElement("div",{id:"sales",className:"module max-w-4xl mx-auto p-4"},o.default.createElement("h2",{className:"text-2xl font-bold mb-4"},"Sales Data Entry"),V&&o.default.createElement("div",{className:"loading-overlay"},B?"Updating sales data...":"Saving sales data..."),o.default.createElement("div",{id:"salesForm"},o.default.createElement("div",{className:"static-row"},o.default.createElement("div",null,o.default.createElement("label",{htmlFor:"salesDate",className:"block mb-1"},"Date"),o.default.createElement("input",{type:"text",id:"salesDate",ref:le,value:K.date,onChange:function(e){return G(function(t){return s(s({},t),{},{date:e.target.value})})},required:!0,className:"border p-2 rounded w-full focus:ring-2 focus:ring-blue-500"})),o.default.createElement("div",null,o.default.createElement("label",{htmlFor:"salesBillNumber",className:"block mb-1"},"Bill Number"),o.default.createElement("input",{type:"text",id:"salesBillNumber",value:K.billNumber,onChange:(ge=g(f().m(function e(t){return f().w(function(e){for(;;)switch(e.n){case 0:if(G(function(e){return s(s({},e),{},{billNumber:t.target.value})}),B||!t.target.value||!K.date){e.n=2;break}return e.n=1,be(t.target.value,K.date);case 1:e.v&&n("This bill number and date combination already exists.","error");case 2:return e.a(2)}},e)})),function(e){return ge.apply(this,arguments)}),required:!0,className:"border p-2 rounded w-full focus:ring-2 focus:ring-blue-500"}))),o.default.createElement("div",{className:"static-row"},o.default.createElement("div",null,o.default.createElement("label",{htmlFor:"salesSalesman",className:"block mb-1"},"Salesman"),o.default.createElement("select",{id:"salesSalesman",value:K.salesman,onChange:function(e){return G(function(t){return s(s({},t),{},{salesman:e.target.value})})},required:!0,className:"border p-2 rounded w-full focus:ring-2 focus:ring-blue-500"},o.default.createElement("option",{value:""},"Select"),E.map(function(e){return o.default.createElement("option",{key:e,value:e},e)}))),o.default.createElement("div",null,o.default.createElement("label",{htmlFor:"salesShopName",className:"block mb-1"},"Shop Name"),o.default.createElement("select",{id:"salesShopName",value:K.shopName,onChange:function(e){return G(function(t){return s(s({},t),{},{shopName:e.target.value})})},required:!0,className:"border p-2 rounded w-full focus:ring-2 focus:ring-blue-500"},o.default.createElement("option",{value:""},"Select"),x.map(function(e){return o.default.createElement("option",{key:e,value:e},e)})))),o.default.createElement("div",{className:"static-row"},o.default.createElement("div",null,o.default.createElement("label",{htmlFor:"salesDepartment",className:"block mb-1"},"Department"),o.default.createElement("select",{id:"salesDepartment",value:K.department,onChange:function(e){return G(function(t){return s(s({},t),{},{department:e.target.value})})},required:!0,className:"border p-2 rounded w-full focus:ring-2 focus:ring-blue-500"},o.default.createElement("option",{value:""},"Select"),T.map(function(e){return o.default.createElement("option",{key:e,value:e},e)}))),o.default.createElement("div",null,o.default.createElement("label",{htmlFor:"salesPhoneNumber",className:"block mb-1"},"Phone Number"),o.default.createElement("input",{type:"tel",id:"salesPhoneNumber",value:K.mobileNumber,onChange:function(e){var t=e.target.value.replace(/[^0-9]/g,"");G(function(e){return s(s({},e),{},{mobileNumber:t})}),t.length>0&&11!==t.length&&n("Phone number must be 11 digits long.","error")},className:"border p-2 rounded w-full"}))),o.default.createElement("div",{id:"salesRows"},o.default.createElement("div",{className:"dynamic-row font-bold"},o.default.createElement("span",{style:{minWidth:"50px"}}),o.default.createElement("span",{style:{flex:1,minWidth:"120px"}},"Item"),o.default.createElement("span",{style:{flex:1,minWidth:"120px"}},"Amount"),o.default.createElement("span",{style:{flex:1,minWidth:"120px"}},"RMD/CST"),o.default.createElement("span",null)),r.map(function(e,t){return o.default.createElement("div",{key:t,className:"dynamic-row"},o.default.createElement("span",{style:{minWidth:"50px"}},"Row ".concat(t+1)),o.default.createElement("select",{className:"sales-item-select border p-2 rounded focus:ring-blue-500",value:e.item,onChange:function(e){return fe(t,"item",e.target.value)},required:!0},o.default.createElement("option",{value:""},"Select"),y.map(function(e){return o.default.createElement("option",{key:e,value:e},e)})),o.default.createElement("input",{type:"number",step:"any",value:e.amount,onChange:function(e){return fe(t,"amount",e.target.value)},onKeyDown:function(e){["0","1","2","3","4","5","6","7","8","9",".","Backspace","Delete","-","ArrowLeft","ArrowRight","Tab","Enter"].includes(e.key)||e.preventDefault()},onFocus:function(e){return e.target.select()},placeholder:"Amount",className:"border p-2 rounded focus:ring-blue-500",required:!0}),o.default.createElement("select",{className:"sales-bg-select border p-2 rounded focus:ring-blue-500",value:e.rmdCstm,onChange:function(e){return fe(t,"rmdCstm",e.target.value)},required:!0},o.default.createElement("option",{value:""},"Select"),A.map(function(e){return o.default.createElement("option",{key:e,value:e},e)})),o.default.createElement("button",{type:"button",className:"sales-remove-row bg-red-500 text-white p-2 rounded hover:bg-red-600",onClick:function(){return function(e){c(function(t){return t.filter(function(t,n){return n!==e})})}(t)}},"Remove"))})),o.default.createElement("button",{type:"button",id:"salesAddItemRow",className:"bg-blue-600 text-white p-2 rounded my-4 hover:bg-blue-700",onClick:function(){c(function(e){return[].concat(u(e),[{item:"",amount:"",rmdCstm:""}])})}},"Add Item Row"),o.default.createElement("div",{id:"payment-row"},o.default.createElement("div",{className:"dynamic-row font-bold"},o.default.createElement("span",{style:{minWidth:"50px"}}),o.default.createElement("span",{style:{flex:1,minWidth:"120px"}},"Paymode"),o.default.createElement("span",{style:{flex:1,minWidth:"120px"}},"Amount Received"),o.default.createElement("span",null)),p.map(function(e,t){return o.default.createElement("div",{key:t,className:"dynamic-row"},o.default.createElement("span",{style:{minWidth:"50px"}},"Payment ".concat(t+1)),o.default.createElement("select",{value:e.paymode,onChange:function(e){return me(t,"paymode",e.target.value)},required:!0,className:"border p-2 rounded focus:ring-blue-500"},o.default.createElement("option",{value:""},"Select"),S.map(function(e){return o.default.createElement("option",{key:e,value:e},e)})),o.default.createElement("input",{type:"number",step:"any",value:e.amountReceived,onChange:function(e){var n=e.target.value;console.log("Amount Received input: ".concat(n)),me(t,"amountReceived",n)},onKeyDown:function(e){["0","1","2","3","4","5","6","7","8","9",".","Backspace","Delete","-","ArrowLeft","ArrowRight","Tab","Enter"].includes(e.key)||e.preventDefault()},onFocus:function(e){return e.target.select()},placeholder:"Amount Received",className:"border p-2 rounded focus:ring-blue-500",required:!0}),o.default.createElement("button",{type:"button",className:"sales-remove-payment-row bg-red-500 text-white p-2 rounded hover:bg-red-600",onClick:function(){return function(e){v(function(t){return t.filter(function(t,n){return n!==e})})}(t)}},"Remove"))})),o.default.createElement("button",{type:"button",id:"salesAddPaymentRow",className:"bg-blue-600 text-white p-2 rounded my-4 hover:bg-blue-700",onClick:function(){v(function(e){return[].concat(u(e),[{paymode:"",amountReceived:""}])})}},"Add Payment Row"),o.default.createElement("div",{className:"static-row"},o.default.createElement("div",null,o.default.createElement("label",{htmlFor:"salesDueBalanceReceived",className:"block mb-1"},"Due Balance Received"),o.default.createElement("input",{type:"number",step:"any",id:"salesDueBalanceReceived",value:K.dueBalanceReceived,onChange:function(e){G(function(t){return s(s({},t),{},{dueBalanceReceived:e.target.value})})},onKeyDown:function(e){["0","1","2","3","4","5","6","7","8","9",".","-","Backspace","Delete","ArrowLeft","ArrowRight","Tab","Enter"].includes(e.key)||e.preventDefault()},onFocus:function(e){return e.target.select()},className:"border p-2 rounded w-full focus:ring-blue-500"})),o.default.createElement("div",null,o.default.createElement("label",{htmlFor:"salesDueBalanceBillNumber",className:"block mb-1"},"Due Balance Bill Number"),o.default.createElement("select",{id:"salesDueBalanceBillNumber",value:K.dueBalanceBillNumber,onChange:function(e){G(function(t){return s(s({},t),{},{dueBalanceBillNumber:e.target.value})})},className:"border p-2 rounded w-full focus:ring-blue-500"},o.default.createElement("option",{value:""},"Select"),X.map(function(e){return o.default.createElement("option",{key:e.Bill_Number,value:e.Bill_Number},"".concat(e.Bill_Number," (").concat(e.Date||"Unknown",")"))})))),o.default.createElement("div",{className:"static-row"},o.default.createElement("div",null,o.default.createElement("label",{htmlFor:"salesBalanceDue",className:"block mb-1"},"Balance Due"),o.default.createElement("input",{type:"number",step:"any",id:"salesBalanceDue",value:K.balanceDue,onChange:function(e){G(function(t){return s(s({},t),{},{balanceDue:e.target.value})})},onKeyDown:function(e){["0","1","2","3","4","5","6","7","8","9",".","-","Backspace","Delete","ArrowLeft","ArrowRight","Tab","Enter"].includes(e.key)||e.preventDefault()},onFocus:function(e){return e.target.select()},className:"border p-2 rounded w-full focus:ring-blue-500"})),o.default.createElement("div",null,o.default.createElement("label",{htmlFor:"salesDeliveryDate",className:"block mb-1"},"Delivery Date"),o.default.createElement("input",{type:"text",id:"salesDeliveryDate",ref:ue,value:K.deliveryDate,onChange:function(e){return G(function(t){return s(s({},t),{},{deliveryDate:e.target.value})})},className:"border p-2 rounded w-full focus:ring-blue-500"}))),o.default.createElement("button",{type:"button",id:"salesSubmit",className:"bg-green-500 text-white p-2 rounded w-full my-4 hover:bg-green-600",onClick:ye},B?"Update":"Submit"),o.default.createElement("div",{className:"totals"},o.default.createElement("div",{id:"salesTotalAmount",className:"font-bold"},"Total Amount: ".concat(ne.toFixed(2))),o.default.createElement("div",{id:"salesAmountReceived",className:"font-bold"},"Amount Received: ".concat(oe.toFixed(2)))),o.default.createElement("div",{className:"table-container"},o.default.createElement(l.SalesRecentTable,{userEmail:t,showNotification:n})),o.default.createElement("button",{type:"button",id:"salesPrintBtn",className:"bg-gray-500 text-white p-2 rounded my-4 hover:bg-gray-600",onClick:function(){return document.getElementById("salesPrintSidebar").classList.toggle("open")}},"Print Preview"),o.default.createElement("div",{id:"salesPrintSidebar",className:"print-sidebar"},o.default.createElement(l.SalesPrintPreview,{sales:{billNumber:K.billNumber,date:K.date,userEmail:t},showNotification:n}),o.default.createElement("button",{id:"salesPrint",className:"bg-blue-500 text-white p-2 rounded",onClick:function(){var e=document.getElementById("salesPrintPreview").innerHTML,t=window.open("","_blank");t.document.write("<html><head><title>Print</title></head><body>".concat(e,"</body></html>")),t.document.close(),t.print()}},"Print"))))}window.App=function(){var e=h((0,o.useState)(!1),2),t=e[0],n=e[1],a=h((0,o.useState)(""),2),r=a[0],i=a[1],l=h((0,o.useState)({message:"",type:""}),2),u=l[0],c=l[1],s=h((0,o.useState)(!1),2),d=s[0],m=s[1];(0,o.useEffect)(function(){var e=sessionStorage.getItem("userEmail");e&&(i(e),n(!0))},[]);var p=function(){var e=g(f().m(function e(t,a){var r,o,l;return f().w(function(e){for(;;)switch(e.n){case 0:return m(!0),e.p=1,e.n=2,fetch("https://us-central1-myposdata.cloudfunctions.net/sales",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({action:"authenticate",email:t,password:a})});case 2:return r=e.v,e.n=3,r.json();case 3:if(!(o=e.v).error){e.n=4;break}throw new Error(o.error);case 4:if(!o.isAuthenticated){e.n=5;break}i(t),n(!0),sessionStorage.setItem("userEmail",t),v("Login successful!","success"),e.n=6;break;case 5:throw new Error("Invalid email or password");case 6:e.n=8;break;case 7:e.p=7,l=e.v,v(l.message,"error");case 8:return e.p=8,m(!1),e.f(8);case 9:return e.a(2)}},e,null,[[1,7,8,9]])}));return function(t,n){return e.apply(this,arguments)}}(),v=function(e,t){c({message:e,type:t}),setTimeout(function(){return c({message:"",type:""})},5e3)};return o.default.createElement("div",null,u.message&&o.default.createElement("div",{className:"notification ".concat(u.type)},u.message),d&&o.default.createElement("div",{className:"loading-overlay"},"Authenticating..."),t?o.default.createElement("div",null,o.default.createElement("div",{className:"flex justify-between p-4 bg-gray-100"},o.default.createElement("h1",{className:"text-xl font-bold"},"SYJPMOPMH POS"),o.default.createElement("div",null,o.default.createElement("span",{className:"mr-4"},r),o.default.createElement("button",{onClick:function(){n(!1),i(""),sessionStorage.removeItem("userEmail"),v("Logged out successfully!","success")},className:"bg-red-500 text-white p-2 rounded"},"Logout"))),o.default.createElement(w,{userEmail:r,showNotification:v})):o.default.createElement(y,{login:p}))}})();